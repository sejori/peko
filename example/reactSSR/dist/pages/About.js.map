{
  "version": 3,
  "sources": ["../../src/components/Layout.tsx", "../../src/components/App.tsx", "../../src/components/List.tsx", "../../src/hooks/useLocalState.ts", "../../src/pages/About.tsx"],
  "sourcesContent": ["import { ReactNode } from \"react\";\n\nconst Layout = ({\n  navColor,\n  navLink,\n  children,\n}: {\n  navColor: string;\n  navLink: string;\n  children: ReactNode;\n}) => {\n  return (\n    <main>\n      <nav style={navStyle(navColor)}>\n        <div className=\"container align-center\">\n          <img\n            height=\"200px\"\n            width=\"1000px\"\n            style={{ maxWidth: \"100%\", margin: \"1rem\" }}\n            src=\"/assets/logo_dark_alpha.webp\"\n            alt=\"peko-logo\"\n          />\n          <h1 style={{ textAlign: \"center\" }}>\n            Featherweight{\" \"}\n            <a href={navLink} style={navLinkStyle}>\n              apps\n            </a>\n          </h1>\n          <h2 style={{ textAlign: \"center\" }}>on the edge \uD83D\uDC23\u26A1</h2>\n        </div>\n      </nav>\n\n      <div style={{ padding: \"1rem\" }} className=\"container\">\n        {children}\n      </div>\n\n      <footer style={footerStyle}>\n        <div className=\"container row\">\n          <a style={footerLinkStyle} href=\"https://github.com/sejori/peko\">\n            <img\n              src=\"https://raw.githubusercontent.com/edent/SuperTinyIcons/master/images/svg/github.svg\"\n              width=\"100\"\n              height=\"100\"\n              alt=\"GitHub\"\n            />\n            Source repo\n          </a>\n          <a\n            className=\"align-center\"\n            style={footerLinkStyle}\n            href=\"https://doc.deno.land/https://deno.land/x/peko/mod.ts\"\n          >\n            <img\n              src=\"https://raw.githubusercontent.com/denolib/high-res-deno-logo/master/deno_hr_circle.svg\"\n              width=\"100\"\n              height=\"100\"\n              alt=\"Deno\"\n            />\n            API docs\n          </a>\n        </div>\n        <div className=\"container row\">\n          <a style={footerLinkStyle} href=\"/\">\n            Home\n          </a>\n          <a style={footerLinkStyle} href=\"/about\">\n            About\n          </a>\n        </div>\n        <p style={{ margin: \"10px\", textAlign: \"center\" }}>\n          Made by <a href=\"https://thesebsite.deno.dev\">Sejori</a>\n        </p>\n      </footer>\n    </main>\n  );\n};\n\nconst navStyle = (navColor: string) => ({\n  width: \"100%\",\n  display: \"flex\",\n  flexDirection: \"column\" as const,\n  justifyContent: \"center\",\n  color: \"white\",\n  backgroundColor: navColor,\n  paddingBottom: \"20px\",\n});\n\nconst navLinkStyle = {\n  color: \"white\",\n};\n\nconst footerStyle = {\n  paddingTop: \"20px\",\n};\n\nconst footerLinkStyle = {\n  flex: 1,\n  display: \"flex\",\n  flexDirection: \"column\" as const,\n  alignItems: \"center\",\n  fontSize: \"1rem\",\n  padding: \"0px 5px\",\n  marginBottom: \"1rem\",\n};\n\nexport default Layout;\n", "import { useState, useEffect } from \"react\";\nimport List from \"./List.tsx\";\nimport { useLocalState } from \"../hooks/useLocalState.ts\";\n\nconst App = () => {\n  const [dataArray, setDataArray] = useLocalState(\"dataArray\");\n  const [latestEvent, setLatestEvent] = useState(0);\n\n  useEffect(() => {\n    const sse = new EventSource(\"/sse\");\n    sse.onmessage = (e) => {\n      const eventData = JSON.parse(e.data);\n      setLatestEvent(eventData.detail);\n      console.log(e);\n    };\n    sse.onerror = (e) => {\n      sse.close();\n      console.log(e);\n    };\n    document.body.addEventListener(\"unload\", () => sse.close());\n    return () => sse.close();\n  }, []);\n\n  return (\n    <div style={{ margin: \"2rem 0\" }}>\n      <p>\n        <strong>Latest random number from server: </strong> {latestEvent}\n      </p>\n\n      <List data={dataArray} />\n\n      <button\n        style={btnLgStyle}\n        onClick={() =>\n          setDataArray((dataArray: string[]) => [\n            ...dataArray,\n            `Item ${dataArray.length}`,\n          ])\n        }\n      >\n        add item\n      </button>\n      <button\n        style={btnLgStyle}\n        onClick={() =>\n          setDataArray((dataArray: string[]) =>\n            dataArray.slice(0, dataArray.length - 1)\n          )\n        }\n      >\n        remove item\n      </button>\n    </div>\n  );\n};\n\nconst btnLgStyle = {\n  margin: \"0.5rem\",\n  padding: \"0.5rem\",\n  fontSize: \"1rem\",\n};\n\nexport default App;\n", "import { useState } from \"react\";\n\nconst List = ({ data }: { data: string[] }) => {\n  // takes a data prop\n  // how many clicks have we counted? Default to 0\n  const [count, setCount] = useState(0);\n\n  // shared event handler\n  const handleClick = () => {\n    setCount(count + 1);\n  };\n\n  return (\n    <div>\n      <ul>\n        {data &&\n          data.map((i) => (\n            <li key={i}>\n              {i} <button onClick={handleClick}>Click me</button>\n            </li>\n          ))}\n      </ul>\n      <p>\n        <strong>\n          {count} {count === 1 ? \"click\" : \"clicks\"} counted\n        </strong>\n      </p>\n    </div>\n  );\n};\n\nexport default List;\n", "import { useState, useEffect } from \"react\";\n\n// INITIAL STATE\nconst initialState: Record<string, unknown> = {\n  dataArray: [\"Item 0\", \"Item 1\", \"Item 2\"],\n};\n\n// listeners object stores arrays of all state variable setters for each key\nconst listeners: Record<string, ((x: unknown) => unknown)[]> = {};\nObject.keys(initialState).forEach((key) => (listeners[key] = []));\n\n/**\n *\n * @param {string} key state variable name\n * @returns [state, setState]\n */\nconst useLocalState = (key: string) => {\n  // return regular state if no localStorage (server-side renders)\n  if (typeof localStorage === \"undefined\") return useState(initialState[key]);\n\n  const [state, setState] = useState(getLocalStateValue(key));\n  listeners[key].push(setState);\n\n  useEffect(() => {\n    try {\n      setLocalStateValue(key, state);\n    } catch (e) {\n      console.log(e);\n    }\n\n    return () => {\n      // remove setState from listener on component unmount\n      listeners[key].filter((listener) => listener !== setState);\n    };\n  }, [state]);\n\n  return [state, setState];\n};\n\n/**\n *\n * @returns initialState object with updated values from locally stored state\n */\nconst getLocalState = () => {\n  const localState = localStorage.getItem(\"localState\");\n  return localState\n    ? { ...initialState, ...JSON.parse(localState) }\n    : initialState;\n};\n\n/**\n *\n * @param {string} key state variable name\n * @returns {*} state variable value\n */\nconst getLocalStateValue = (key: string) => {\n  const localState = getLocalState();\n  if (localState[key]) return localState[key];\n  throw new Error(\n    `Key \"${key}\" does not exist in localState. Make sure it is added to initialState in /src/hooks/localstate.js.`\n  );\n};\n\n/**\n *\n * @param {string} key state variable name\n * @param {*} value state variable value\n */\nconst setLocalStateValue = (key: string, value: unknown) => {\n  // update all state listeners before setting in case we cannot set localStorage\n  // (e.g. private browsing iOS Safari)\n  listeners[key].forEach((setState) => setState(value));\n\n  // set localStorage\n  return localStorage.setItem(\n    \"localState\",\n    JSON.stringify({ ...getLocalState(), [key]: value })\n  );\n};\n\nexport { useLocalState };\n", "import { ReactNode } from \"react\";\nimport Layout from \"../components/Layout.tsx\";\nimport App from \"../components/App.tsx\";\n\nconst About = (props: Record<string, ReactNode>) => {\n  return (\n    <Layout navLink=\"/\" navColor=\"blueviolet\">\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-around\",\n          flexWrap: \"wrap\",\n        }}\n      >\n        <p style={{ margin: \"5px\" }}>\n          <strong>Request time: </strong>\n          {props.request_time}\n        </p>\n        <p style={{ margin: \"5px\" }}>\n          <strong>Hydration time: </strong>\n          {Date.now()}\n        </p>\n        <p style={{ margin: \"5px\" }}>\n          <strong>Served from: </strong>\n          {props.DENO_REGION ? props.DENO_REGION : \"localhost\"}\n        </p>\n      </div>\n\n      <img src=\"/assets/lighthouse-score.png\" alt=\"lighthouse-score\" />\n\n      <p>\n        This website is appified with the Preact JavaScript library. It even\n        uses localStorage to store state locally between page loads \uD83E\uDD2F. Check\n        out the \uD83D\uDC49{\" \"}\n        <a href=\"https://github.com/sejori/peko/tree/main/example/preactSSR\">\n          source code here\n        </a>{\" \"}\n        \uD83D\uDC48.\n      </p>\n\n      <App />\n    </Layout>\n  );\n};\n\nexport default About;\n"],
  "mappings": "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",
  "names": ["useState", "useEffect", "jsx", "jsxs", "useState", "jsx", "jsxs", "useState", "useEffect", "dataArray", "jsx", "jsxs"]
}
