{
  "version": 3,
  "sources": ["../../src/components/Layout.tsx", "../../src/components/App.tsx", "../../src/components/List.tsx", "../../src/hooks/useLocalState.ts", "../../src/pages/About.tsx"],
  "sourcesContent": ["import { ReactNode } from \"react\";\r\n\r\nconst Layout = ({\r\n  navColor,\r\n  navLink,\r\n  children,\r\n}: {\r\n  navColor: string;\r\n  navLink: string;\r\n  children: ReactNode;\r\n}) => {\r\n  return (\r\n    <main>\r\n      <nav style={navStyle(navColor)}>\r\n        <div className=\"container align-center\">\r\n          <img\r\n            height=\"200px\"\r\n            width=\"1000px\"\r\n            style={{ maxWidth: \"100%\", margin: \"1rem\" }}\r\n            src=\"/assets/logo_dark_alpha.webp\"\r\n            alt=\"peko-logo\"\r\n          />\r\n          <h1 style={{ textAlign: \"center\" }}>\r\n            Featherweight{\" \"}\r\n            <a href={navLink} style={navLinkStyle}>\r\n              apps\r\n            </a>\r\n          </h1>\r\n          <h2 style={{ textAlign: \"center\" }}>on the edge \uD83D\uDC23\u26A1</h2>\r\n        </div>\r\n      </nav>\r\n\r\n      <div style={{ padding: \"1rem\" }} className=\"container\">\r\n        {children}\r\n      </div>\r\n\r\n      <footer style={footerStyle}>\r\n        <div className=\"container row\">\r\n          <a style={footerLinkStyle} href=\"https://github.com/sejori/peko\">\r\n            <img\r\n              src=\"https://raw.githubusercontent.com/edent/SuperTinyIcons/master/images/svg/github.svg\"\r\n              width=\"100\"\r\n              height=\"100\"\r\n              alt=\"GitHub\"\r\n            />\r\n            Source repo\r\n          </a>\r\n          <a\r\n            className=\"align-center\"\r\n            style={footerLinkStyle}\r\n            href=\"https://doc.deno.land/https://deno.land/x/peko/mod.ts\"\r\n          >\r\n            <img\r\n              src=\"https://raw.githubusercontent.com/denolib/high-res-deno-logo/master/deno_hr_circle.svg\"\r\n              width=\"100\"\r\n              height=\"100\"\r\n              alt=\"Deno\"\r\n            />\r\n            API docs\r\n          </a>\r\n        </div>\r\n        <div className=\"container row\">\r\n          <a style={footerLinkStyle} href=\"/\">\r\n            Home\r\n          </a>\r\n          <a style={footerLinkStyle} href=\"/about\">\r\n            About\r\n          </a>\r\n        </div>\r\n        <p style={{ margin: \"10px\", textAlign: \"center\" }}>\r\n          Made by <a href=\"https://thesebsite.deno.dev\">Sejori</a>\r\n        </p>\r\n      </footer>\r\n    </main>\r\n  );\r\n};\r\n\r\nconst navStyle = (navColor: string) => ({\r\n  width: \"100%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\" as const,\r\n  justifyContent: \"center\",\r\n  color: \"white\",\r\n  backgroundColor: navColor,\r\n  paddingBottom: \"20px\",\r\n});\r\n\r\nconst navLinkStyle = {\r\n  color: \"white\",\r\n};\r\n\r\nconst footerStyle = {\r\n  paddingTop: \"20px\",\r\n};\r\n\r\nconst footerLinkStyle = {\r\n  flex: 1,\r\n  display: \"flex\",\r\n  flexDirection: \"column\" as const,\r\n  alignItems: \"center\",\r\n  fontSize: \"1rem\",\r\n  padding: \"0px 5px\",\r\n  marginBottom: \"1rem\",\r\n};\r\n\r\nexport default Layout;\r\n", "import { useState, useEffect } from \"react\";\r\nimport List from \"./List.tsx\";\r\nimport { useLocalState } from \"../hooks/useLocalState.ts\";\r\n\r\nconst App = () => {\r\n  const [dataArray, setDataArray] = useLocalState(\"dataArray\");\r\n  const [latestEvent, setLatestEvent] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const sse = new EventSource(\"/sse\");\r\n    sse.onmessage = (e) => {\r\n      const eventData = JSON.parse(e.data);\r\n      setLatestEvent(eventData.detail);\r\n      console.log(e);\r\n    };\r\n    sse.onerror = (e) => {\r\n      sse.close();\r\n      console.log(e);\r\n    };\r\n    document.body.addEventListener(\"unload\", () => sse.close());\r\n    return () => sse.close();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ margin: \"2rem 0\" }}>\r\n      <p>\r\n        <strong>Latest random number from server: </strong> {latestEvent}\r\n      </p>\r\n\r\n      <List data={dataArray} />\r\n\r\n      <button\r\n        style={btnLgStyle}\r\n        onClick={() =>\r\n          setDataArray((dataArray: string[]) => [\r\n            ...dataArray,\r\n            `Item ${dataArray.length}`,\r\n          ])\r\n        }\r\n      >\r\n        add item\r\n      </button>\r\n      <button\r\n        style={btnLgStyle}\r\n        onClick={() =>\r\n          setDataArray((dataArray: string[]) =>\r\n            dataArray.slice(0, dataArray.length - 1)\r\n          )\r\n        }\r\n      >\r\n        remove item\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst btnLgStyle = {\r\n  margin: \"0.5rem\",\r\n  padding: \"0.5rem\",\r\n  fontSize: \"1rem\",\r\n};\r\n\r\nexport default App;\r\n", "import { useState } from \"react\";\r\n\r\nconst List = ({ data }: { data: string[] }) => {\r\n  // takes a data prop\r\n  // how many clicks have we counted? Default to 0\r\n  const [count, setCount] = useState(0);\r\n\r\n  // shared event handler\r\n  const handleClick = () => {\r\n    setCount(count + 1);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {data &&\r\n          data.map((i) => (\r\n            <li key={i}>\r\n              {i} <button onClick={handleClick}>Click me</button>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n      <p>\r\n        <strong>\r\n          {count} {count === 1 ? \"click\" : \"clicks\"} counted\r\n        </strong>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default List;\r\n", "import { useState, useEffect } from \"react\";\r\n\r\n// INITIAL STATE\r\nconst initialState: Record<string, unknown> = {\r\n  dataArray: [\"Item 0\", \"Item 1\", \"Item 2\"],\r\n};\r\n\r\n// listeners object stores arrays of all state variable setters for each key\r\nconst listeners: Record<string, ((x: unknown) => unknown)[]> = {};\r\nObject.keys(initialState).forEach((key) => (listeners[key] = []));\r\n\r\n/**\r\n *\r\n * @param {string} key state variable name\r\n * @returns [state, setState]\r\n */\r\nconst useLocalState = (key: string) => {\r\n  // return regular state if no localStorage (server-side renders)\r\n  if (typeof localStorage === \"undefined\") return useState(initialState[key]);\r\n\r\n  const [state, setState] = useState(getLocalStateValue(key));\r\n  listeners[key].push(setState);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      setLocalStateValue(key, state);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n\r\n    return () => {\r\n      // remove setState from listener on component unmount\r\n      listeners[key].filter((listener) => listener !== setState);\r\n    };\r\n  }, [state]);\r\n\r\n  return [state, setState];\r\n};\r\n\r\n/**\r\n *\r\n * @returns initialState object with updated values from locally stored state\r\n */\r\nconst getLocalState = () => {\r\n  const localState = localStorage.getItem(\"localState\");\r\n  return localState\r\n    ? { ...initialState, ...JSON.parse(localState) }\r\n    : initialState;\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} key state variable name\r\n * @returns {*} state variable value\r\n */\r\nconst getLocalStateValue = (key: string) => {\r\n  const localState = getLocalState();\r\n  if (localState[key]) return localState[key];\r\n  throw new Error(\r\n    `Key \"${key}\" does not exist in localState. Make sure it is added to initialState in /src/hooks/localstate.js.`\r\n  );\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} key state variable name\r\n * @param {*} value state variable value\r\n */\r\nconst setLocalStateValue = (key: string, value: unknown) => {\r\n  // update all state listeners before setting in case we cannot set localStorage\r\n  // (e.g. private browsing iOS Safari)\r\n  listeners[key].forEach((setState) => setState(value));\r\n\r\n  // set localStorage\r\n  return localStorage.setItem(\r\n    \"localState\",\r\n    JSON.stringify({ ...getLocalState(), [key]: value })\r\n  );\r\n};\r\n\r\nexport { useLocalState };\r\n", "import { ReactNode } from \"react\";\r\nimport Layout from \"../components/Layout.tsx\";\r\nimport App from \"../components/App.tsx\";\r\n\r\nconst About = (props: Record<string, ReactNode>) => {\r\n  return (\r\n    <Layout navLink=\"/\" navColor=\"blueviolet\">\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          flexWrap: \"wrap\",\r\n        }}\r\n      >\r\n        <p style={{ margin: \"5px\" }}>\r\n          <strong>Request time: </strong>\r\n          {props.request_time}\r\n        </p>\r\n        <p style={{ margin: \"5px\" }}>\r\n          <strong>Hydration time: </strong>\r\n          {Date.now()}\r\n        </p>\r\n        <p style={{ margin: \"5px\" }}>\r\n          <strong>Served from: </strong>\r\n          {props.DENO_REGION ? props.DENO_REGION : \"localhost\"}\r\n        </p>\r\n      </div>\r\n\r\n      <img src=\"/assets/lighthouse-score.png\" alt=\"lighthouse-score\" />\r\n\r\n      <p>\r\n        This website is appified with the react JavaScript library. It even\r\n        uses localStorage to store state locally between page loads \uD83E\uDD2F. Check\r\n        out the \uD83D\uDC49{\" \"}\r\n        <a href=\"https://github.com/sejori/peko/tree/main/examples/react\">\r\n          source code here\r\n        </a>{\" \"}\r\n        \uD83D\uDC48.\r\n      </p>\r\n\r\n      <App />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default About;\r\n"],
  "mappings": "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",
  "names": ["useState", "useEffect", "jsx", "jsxs", "useState", "jsx", "jsxs", "useState", "useEffect", "dataArray", "jsx", "jsxs"]
}
