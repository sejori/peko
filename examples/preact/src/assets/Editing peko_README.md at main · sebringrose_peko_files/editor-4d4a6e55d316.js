"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["editor"],{96556(a,b,c){var d,e=c(254),f=c(54697),g=c(64463),h=c(59753),i=c(97629);let j=new WeakMap;function k(a){let b=a.querySelector(".js-new-filename-field");return o(b)}function l(a){return Array.from(a.querySelectorAll(".js-check-for-fork")).some(i.Z)}let m=null;function n(){let a=document.querySelector(".js-blob-form"),b=a.querySelector(".js-blob-submit");if(b instanceof HTMLButtonElement){var c;b.disabled=!(!l(c=a)&&function(a){let b=a.querySelector(".js-blob-filename"),c=b.value;return"."!==c&&".."!==c&&".git"!==c&&/\S/.test(b.value)}(c)&&(function(a){let b=a.querySelector(".js-blob-contents");return"true"===b.getAttribute("data-allow-unchanged")||o(b)}(c)||k(c)))}a.querySelector(".js-blob-contents-changed").value=(function(a){let b=a.querySelector(".js-blob-contents");return!!b.getAttribute("data-allow-unchanged")||o(b)})(a).toString(),m&&(function(a){let b=a.querySelector(".js-blob-contents");return o(b)||k(a)}(a)?window.onbeforeunload=m:window.onbeforeunload=null)}function o(a){return null==a||("hidden"===a.type?a.value!==a.getAttribute("data-default-value"):a.value!==a.defaultValue)}function p(a){t(a),s(a),n()}function q(a){function b(){a.focus(),a.setSelectionRange(0,0)}for(;a.value.split("/").length>1;){let c=a.value,d=c.split("/"),e=d[0],f=d.slice(1).join("/");""===e||"."===e||".git"===e?(a.value=f,window.setTimeout(b,1)):".."===e?v(a):w(a,e,f)}}function r(a){let b=u();for(let c of document.querySelectorAll(".js-template-suggestion")){let d=c.getAttribute("data-template-suggestion-pattern");if(d){let e=RegExp(d,"i"),f=e.test(b+a);if(c.classList.toggle("d-none",!f),f){let g=c.querySelector("a[data-template-button]");if(!g)return;let h=new URL(g.href,window.location.origin);h.searchParams.set("filename",a),g.href=`${h.pathname}${h.search}`}}}}function s(a){let b=!0,c=a.value?`Create ${a.value}`:"Create new file",d=a.closest("form"),e=document.querySelector(".js-blob-contents"),f=d.querySelector(".js-new-blob-commit-summary");if(!f)return;let g=document.querySelector(".js-commit-message-fallback"),h=j.get(e),i=document.querySelector(".js-new-filename-field").value;if(h){if(i!==h){let k=o(e),l=k?"Update and rename":"Rename";if(a.value.length&&i.length){let m=h.split("/"),n=i.split("/"),p=m.length-1;for(let q=0;q<m.length;q++){let r=m[q];q!==p&&r!==n[q]&&(b=!1)}c=m.length===n.length&&b?`${l} ${m[p]} to ${n[p]}`:`${l} ${h} to ${i}`}else c=`${l} ${h}`}else i===h&&(c=`Update ${a.value}`)}f.setAttribute("placeholder",c),g.value=c}function t(a){let b=u()+a.value;document.querySelector(".js-new-filename-field").value=b}function u(){let a="";for(let b of document.querySelectorAll(".js-breadcrumb-container > .js-path-segment"))a=`${a}${b.textContent}/`;return a}function v(a,b=!1){b||(a.value=a.value.replace("../",""));let c,d=document.querySelector(".js-breadcrumb-container");if(1!==d.querySelectorAll(".separator").length){a.previousElementSibling&&a.previousElementSibling.remove();let e=a.previousElementSibling;c=e.textContent.length,e.remove(),b&&(a.value=`${e.textContent}${a.value}`)}r(a.value),window.setTimeout(function(b,c=0){(0===c||b)&&(a.focus(),a.setSelectionRange(c,c))},1,b,c)}function w(a,b,c){let d=b.trim(),e=document.querySelector(".js-breadcrumb-container");if(d.length>0){let f=e.querySelectorAll(".js-path-segment a"),g;if(f.length>1)g=f[f.length-1].pathname;else{let h=e.querySelector(".js-repo-root a");g=h.pathname}let i=document.querySelector(".js-crumb-template").cloneNode(!0);i.classList.remove("js-crumb-template"),i.querySelector("a").href=g,i.querySelector("span").textContent=d;let j=document.querySelector(".js-crumb-separator").cloneNode(!0);j.classList.remove("js-crumb-separator"),a.before(i),a.before(j)}a.value=c,r(a.value),window.setTimeout(function(){a.focus(),a.setSelectionRange(0,0)},1)}async function x(a){let b=a.currentTarget.closest(".js-blob-form"),c=(0,f.Pi)(b.querySelector(".js-code-editor"));if(null==c)return;let d=a.currentTarget.getAttribute("data-template-url"),e=await fetch(d,{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!e.ok)return;let g=await e.text();c.setCode(g)}(0,g.N7)(".js-blob-form",{constructor:HTMLFormElement,initialize(a){setTimeout(()=>{var b;(function(a){for(let b of a.querySelectorAll("input"))"hidden"===b.getAttribute("type")&&b.getAttribute("class")&&null==b.getAttribute("data-default-value")&&b.setAttribute("data-default-value",b.value)})(a),function(a){let b=a.querySelector(".js-blob-contents"),c=a.querySelector(".js-new-filename-field"),d=a.querySelector(".js-blob-filename"),e=d.hasAttribute("data-new-file");if(null!=d.defaultValue&&d.defaultValue.length&&!e)j.set(b,c.value)}(a),n();let c;("yes"===(c=(b=a).getAttribute("data-github-confirm-unload"))||"true"===c)&&(c=""),null==c&&(c="false"),m="no"===c||"false"===c?null:function(){return c},a.addEventListener("submit",function(){window.onbeforeunload=null})})}}),(0,h.on)("change",".js-blob-contents",function(){let a=document.querySelector(".js-blob-filename");a&&p(a)}),(0,e.q6)(".js-blob-filename",function(a){let b=a.currentTarget;document.querySelector(".js-blob-contents").setAttribute("data-filename",b.value),r(b.value),p(b)}),(0,e.q6)(".js-breadcrumb-nav",function(a){let b=a.currentTarget;q(b),p(b)}),(0,g.N7)(".js-breadcrumb-nav",{constructor:HTMLInputElement,initialize(a){q(a),p(a)}}),(0,e.w4)("keydown",".js-breadcrumb-nav",function(a){let b=a.currentTarget;if("Backspace"===a.key&&0===b.selectionStart&&0===b.selectionEnd){let c=b.parentElement;c&&1!==c.querySelectorAll(".separator").length&&(v(b,!0),a.preventDefault())}p(b)}),(0,e.q6)(".js-new-blob-commit-summary",function(a){let b=a.currentTarget,c=b.closest(".js-file-commit-form"),d=c.querySelector(".js-too-long-error");d.classList.toggle("d-none",b.value.length<=50)}),(0,g.N7)(".js-check-for-fork",function(a){let b=a.closest("form"),c=b.querySelector(".js-blob-submit");a.addEventListener("load",function(){!0===l(b)&&(c.disabled=!0)})}),(0,h.on)("click",".js-citation-template",async function(a){await x(a)}),(0,h.on)("change",".js-gitignore-template input[type=radio]",async function(a){await x(a)}),(0,g.N7)(".js-file-commit-form",function(a){let b=new URLSearchParams(window.location.search.slice(1));if("true"===b.get("start_commit")){let c=a.querySelector(".js-details-target");c&&c.click()}});var y=c(46263),z=c(54650),A=c(75662),B=c(76006),C=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};let D=class BypassReasonSelectorElement extends HTMLElement{reasonSelected(){this.submitBtn.disabled=!1}copyBlobFields(){let a=document.querySelector(".js-blob-form"),b=document.querySelector(".js-bypass-form");if(a instanceof HTMLFormElement&&b instanceof HTMLFormElement)for(let c of(this.createHiddenInputField(b,"value",document.querySelector(".js-blob-contents").value),this.createHiddenInputField(b,"description",document.querySelector("#commit-description-textarea").value),a.elements))c instanceof HTMLInputElement&&c.name&& !c.name.includes("gitignore")&&"authenticity_token"!==c.name&&this.createHiddenInputField(b,c.name,c.value)}createHiddenInputField(a,b,c){let d=document.createElement("input");d.type="hidden",d.name=b,d.id=`${b}_hidden`,d.value=c,a.appendChild(d),d.required=!0}};C([B.fA],D.prototype,"submitBtn",void 0),D=C([B.Ih],D);var E=c(93928);class CodeEditorExtensions{static annotateDiscoveredSecrets(a,b){if(!a)return;let c=JSON.parse(b);if(0===c.length||c[0].locations?.length===0)return;let d=c[0].locations[0],e=a.code().split(/\r?\n/),f=d.start_line-1,g=d.end_line-1;!(f>g)&&!(f<0)&&!(g>e.length)&&a.markText({line:f,ch:(0,E.yb)(e[f],d.start_line_byte_position)},{line:g,ch:(0,E.yb)(e[g],d.end_line_byte_position)},"CodeMirror-lint-mark-error")}}var F=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};let G=["loading-preview","show-preview","no-changes-preview","error-preview"],H=["show-code"].concat(G),I=((d=class BlobEditorElement extends HTMLElement{async connectedCallback(){if(this.discoveredSecrets){let a=await (0,f.gD)(this);CodeEditorExtensions.annotateDiscoveredSecrets(a,this.discoveredSecrets)}}}).attrPrefix="",d);function J(a){var b;let c=(b=a).classList.contains("show-code")?"show-code":b.classList.contains("template-editor")?"template-editor":"preview";for(let d of a.querySelectorAll(".js-blob-edit-tab")){let e=d.getAttribute("data-tab")===c;d.classList.toggle("selected",e),e?d.setAttribute("aria-current","true"):d.removeAttribute("aria-current")}(0,h.f)(document.querySelector(".js-file-editor-nav"),"tab:change",{name:c})}function K(a){return"true"===a.getAttribute("data-is-gist")}function L(a,b,c){var d,e;let f=(d=a,e=b,(K(d)?d:e).querySelector(".js-blob-filename"));K(a)?f.readOnly=!c:f.disabled=!c,f.style.cursor=c?"auto":"not-allowed"}function M(a){let b=a.closest(".file-header"),c=b.querySelector(".js-file-editor-nav");c.hidden=!function(a){for(let b of[".md",".mkdn",".mkd",".mdown",".markdown"])if(a.endsWith(b))return!0;return!1}(a.value)}function N(){let a=document.querySelector(".js-branch-name-label-container"),b=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked");a&&(b?a.hidden=!0:a.hidden=!1)}F([B.Lj],I.prototype,"discoveredSecrets",void 0),I=F([B.Ih],I),(0,e.w4)("keypress","input.js-blob-filename",function(a){if("Enter"===a.key){let b=a.target.form,c=b.querySelector("select.js-code-indent-mode");c&&c.focus(),a.preventDefault()}}),(0,e.w4)("keyup",".js-code-editor[data-is-gist] input.js-blob-filename",function(a){let b=a.target;M(b)}),(0,g.N7)(".js-branch-name-label-container",N),(0,g.N7)(".js-gist-filename",{add(a){M(a)}});function O(a){let b=a.currentTarget.closest(".js-code-editor");if(!b.classList.contains("show-code")&&!b.classList.contains("template-editor"))return;b.querySelector(".js-blob-edit-code").setAttribute("data-hotkey","Control+P,Meta+P");let c=b.closest(".js-blob-form");return R(b,c,!K(b),!K(b)&&function(a,b){var c;let d=b.querySelector(".js-preview-diff-toggle");return d&&d instanceof HTMLInputElement?!d.checked:(c=b,"true"===c.getAttribute("data-simplediff-enabled"))}(a,b))}function P(a,b){a.classList.remove(...H),a.classList.add(b);let c=a.querySelector(".preview-actions");c instanceof HTMLElement&&(c.hidden=!G.includes(b))}(0,h.on)("click",".js-blob-edit-code",function(a){let b=a.currentTarget.closest(".js-code-editor");if(b.classList.contains("show-code"))return;b.querySelector(".js-blob-edit-code").removeAttribute("data-hotkey"),P(b,"show-code"),J(b);let c=(0,f.Pi)(b);c?(c.refresh(),c.focus()):b.classList.contains("js-mobile-code-editor")&&b.querySelector(".js-code-textarea").focus();let d=b.closest(".js-blob-form");L(b,d,!0)}),(0,h.on)("click",".js-blob-edit-preview",O),(0,h.on)("click",".js-preview-diff-toggle",function(a){let b=a.currentTarget;if(b instanceof HTMLInputElement){let c=b.checked,d=a.currentTarget.closest(".js-code-editor"),e=d.closest(".js-blob-form");return R(d,e,!0,!c)}}),(0,h.on)("codeEditor:preview",".js-code-textarea",function(a){let b=a.currentTarget.closest(".js-code-editor");b.classList.contains("show-code")&&O(a)});let Q=null;async function R(a,b,c,d){P(a,"loading-preview"),J(a),L(a,b,!1);let e=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked"),g=document.querySelector(".js-blob-preview-form"),h=(0,f.Pi)(a),i=null,j=1;if(null!=h)i=h.code(),j=h.editor.getCursor("from").line+1;else{if(!a.classList.contains("js-mobile-code-editor"))return;let k=a.querySelector(".js-code-textarea");j=(i=k.value).substring(0,k.selectionStart).split(/\r?\n/).length}K(a)?(0,z.DN)(g,{text:i}):(0,z.DN)(g,{code:i,commit:b.querySelector(".js-commit-oid").value,blobname:b.querySelector(".js-blob-filename").value,willcreatebranch:e.toString(),checkConflict:c.toString()}),Q?.abort();let{signal:l}=Q=new AbortController;try{let m=new URL(g.action,window.location.origin);d&&m.searchParams.append("avoiddiff","true");let n=await fetch(m.toString(),{method:g.method,body:new FormData(g),signal:l});if(!n.ok)throw Error("network error");let o=await n.text();if(!a.classList.contains("loading-preview"))return;let p=(0,A.r)(document,o),q=K(a)?p:p.querySelector(".data.highlight");if(q||(q=p.querySelector("#readme")),q||(q=p.querySelector(".js-preview-new-file")),q||(q=p.querySelector(".js-preview-msg")),!q&&(q=p.querySelector(".render-container"))&&q.classList.add("is-render-requested"),q){let r=a.querySelector(".js-commit-preview");r.innerHTML="",r.appendChild(q),P(a,"show-preview"),S(r,j)}else P(a,"no-changes-preview")}catch(s){a&&P(a,"error-preview")}}function S(a,b){if(!a.querySelector(".markdown-body")||!a.querySelector("[data-sourcepos]"))return;let c=null;for(let d=b;d>=b-50&&!(c=a.querySelector(`[data-sourcepos^="${d}:"]`));d--);c?.scrollIntoView({block:"start"})}(0,h.on)("change",".js-quick-pull-choice-option",function(a){let b="quick-pull"===a.currentTarget.value,c=document.querySelector(".js-quick-pull-target-branch"),d=document.querySelector(".js-quick-pull-choice-value"),e=document.querySelector(".js-blob-submit");if(N(),b){let f=document.querySelector(".js-quick-pull-new-branch-name"),g=f.getAttribute("data-generated-branch");!f.value.length&&g&&(f.value=g),f.focus(),f.select(),c.value=f.value,d.value=c.getAttribute("data-default-value")||"",e.textContent=e.getAttribute("data-pull-text")||""}else c.value=c.getAttribute("data-default-value")||"",d.value="",e.textContent=e.getAttribute("data-edit-text")||""});let T=null,U=null;async function V(){let a=document.querySelector(".js-quick-pull-new-branch-name"),b=a.value,c=a.getAttribute("data-generated-branch"),d=document.querySelector(".js-quick-pull-normalization-info"),e=new FormData;e.append("ref",b);let f=a.getAttribute("data-check-url"),g=a.parentElement.querySelector(".js-data-check-url-csrf");T?.abort();let{signal:h}=T=new AbortController;try{let i=await fetch(f,{mode:"same-origin",method:"POST",body:e,signal:h,headers:{Accept:"application/json","Scoped-CSRF-Token":g.value}});if(!i.ok)throw Error("network error");let j=await i.json();if(b!==a.value)return;let k=j.normalized_ref;if(d.innerHTML=null==j.message_html?"":j.message_html,!k){let l=d.querySelector("code");l.textContent=c}U&&(U.value=k)}catch(m){if(b!==a.value)return;U&&(U.value=b)}}let W=(0,y.D)(V,200);(0,e.q6)(".js-quick-pull-new-branch-name",function(a){let b=a.target.value;(U=document.querySelector(".js-quick-pull-target-branch")).value=b,b.length&&W()}),(0,h.on)("click","[data-template-button]",function(){window.onbeforeunload=null}),c(71707);var X=c(82936),Y=c(68423);async function Z(a){let b=a.getAttribute("data-language-detection-url");if(!b)return;let c=document.querySelector(".js-code-editor");if(!c)return;let d=btoa(encodeURIComponent(a.value)),e=new URL(b,window.location.origin),g=new URLSearchParams(e.search.slice(1));g.append("filename",d),e.search=g.toString();let h=await fetch(e.toString(),{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!h.ok){let i=Error(),j=h.statusText?` ${h.statusText}`:"";throw i.message=`HTTP ${h.status}${j}`,i}let k=await h.json(),l=await (0,f.gD)(c);l.setMode(k.language)}(0,e.ZG)(".js-detect-filename-language",a=>{let b=a;(0,Y.oq)(b,Z),a.addEventListener("blur",()=>(0,Y.iU)(b,Z),{once:!0})});var $=c(4631),_=c.n($),aa=c(94313),ab=c(81574),ac=c(53438),ad=c(66644),ae=c(56599);let af=class CodeEditor{code(){return this.editor.getValue()}setCode(a){this.editor.setValue(a)}refresh(){this.editor.refresh()}focus(){this.editor.focus()}blur(){this.editor.getInputField().blur()}getDocument(){return this.editor.getDoc()}on(a,b){this.container.addEventListener(a,b)}off(a,b){this.container.removeEventListener(a,b)}setDocument(a){this.editor.swapDoc(a),(!a.modeOption|| void 0===a.modeOption.name)&&this.setMode(a.modeOption)}async loading(a){this.editor.setOption("readOnly",!0),await a(),window.onbeforeunload=null,this.editor.setOption("readOnly",!1)}setMode(a){let b=a;this.mergeMode&&(b={name:"conflict",baseMode:b,editor:this.editor}),"text/x-gfm"===b?this.editor.setOption("mode",{name:"gfm",gitHubSpice:!1}):this.editor.setOption("mode",b);let c=this.container.querySelector(".drag-and-drop");if(c){let d=!("text/x-gfm"===b||"text/x-markdown"===b);c.hidden=d,this.editor.setOption("dragDrop",d)}if(b&&!this.mergeMode){let e=_().findModeByMIME(b);_().autoLoadMode(this.editor,e.mode)}}setConfirmUnloadMessage(a){this.confirmUnload=function(){return a}}clearConfirmUnloadMessage(){this.confirmUnload=void 0,window.onbeforeunload=null}setupFormBindings(){let a=(a,b)=>{this.confirmUnload&&(window.onbeforeunload=this.confirmUnload),(0,z.Se)(this.textarea,this.code()),(0,ac.kb)(a)&&(0,ae.o)(a),(0,h.f)(this.container,"change",{editor:a,changes:b})};if(this.editor.on("change",a),this.editor.on("swapDoc",a),this.editor.on("renderLine",ac.aU),this.editor.on("paste",ac.ag),this.confirmUnload){let b=this.textarea.closest("form");if(null==b)return;b.addEventListener("submit",()=>{window.onbeforeunload=null})}}setupControlBindings(){let a=this.container.querySelector(".js-code-indent-width"),b=this.container.querySelector(".js-code-wrap-mode"),c=this.container.querySelector(".js-code-indent-mode");this.editor.setOption("tabSize",parseInt(a.value)),this.editor.setOption("indentUnit",parseInt(a.value)),this.editor.setOption("lineWrapping","on"===b.value),this.editor.setOption("indentWithTabs","space"!==c.value),a.addEventListener("change",()=>{this.editor.setOption("tabSize",parseInt(a.value)),this.editor.setOption("indentUnit",parseInt(a.value))}),b.addEventListener("change",()=>{this.editor.setOption("lineWrapping",null!=b&&"on"===b.value)}),c.addEventListener("change",()=>{this.editor.setOption("indentWithTabs","space"!==c.value)})}setupKeyBindings(){this.editor.addKeyMap(ad.p),this.editor.addKeyMap({"Shift-Cmd-P":()=>{this.blur(),(0,h.f)(this.textarea,"codeEditor:preview")}}),(0,aa.Ty)()||delete _().keyMap.default["Alt-G"]}setupScrollOnHashChange(){(0,ab.Z)(()=>{let a=ag(window.location.hash);a.length>0&&(this.focus(),this.editor.setCursor({line:a[0]-1,ch:0},{scroll:!0}))})}markText(a,b,c){return this.editor.markText(a,b,{className:c})}constructor(a){if(this.container=a,!this.container)return;this.container.setAttribute("data-editor-loaded",""),this.textarea=this.container.querySelector(".js-code-textarea"),this.filename=this.textarea.getAttribute("data-filename")||"";let b=this.textarea.value,c=this.textarea.getAttribute("data-codemirror-mode"),d="true"===this.textarea.getAttribute("data-codemirror-fixed-height");this.mergeMode="true"===this.textarea.getAttribute("data-merge-mode");let e=this.textarea.clientHeight;this.textarea.style.display="none";let f={lineNumbers:!0,value:b,inputStyle:"contenteditable",theme:"github-light"};this.mergeMode&&(f.gutters=["CodeMirror-linenumbers","merge-gutter"]);let g=this.textarea.parentElement;this.editor=_()(g,f);let h=this.textarea.getAttribute("data-hotkey-scope-id")||"code-editor";if(this.editor.getInputField().setAttribute("id",h),0!==e&&d){let i=this.container.querySelector(".CodeMirror");i&&(i.style.height=`${e}px`)}this.setMode(c),this.setupKeyBindings(),this.setupFormBindings(),this.setupControlBindings(),this.setupScrollOnHashChange()}};function ag(a){let b,c,d=a.match(/#?(?:L|-)(\d+)/gi);if(!d)return[];{let e=[];for(b=0,c=d.length;b<c;b++){let f=d[b];e.push(parseInt(f.replace(/\D/g,"")))}return e}}(0,g.N7)(".js-code-editor",{constructor:HTMLElement,add:function(a){if((0,f.Pi)(a)||a.hasAttribute("data-editor-loaded")||a.classList.contains("js-mobile-code-editor"))return;let b=new af(a),c=a.getAttribute("data-github-confirm-unload")||"";("yes"===c||"true"===c)&&(c=""),"no"===c||"false"===c||b.setConfirmUnloadMessage(c),(0,h.f)(a,"codeEditor:ready",{editor:b})}});var ah=c(98249),ai=c(81775),aj=c(40458);function ak(a){let b=document.querySelector(".js-resolve-conflicts-form");return b.elements.namedItem(a)}let al=new WeakMap;function am(a){let b=ak(a);return al.get(b)}async function an(a){let b=document.querySelector(".js-code-editor");if(!(b instanceof HTMLElement))return;let c=await (0,f.gD)(b);function d(){let b=a.getAttribute("data-filename")||"",c=`files[${b}]`,d=am(c);if(null==d)throw Error("Expected file data to be loaded and was not");ao(d)}c.off("change",d),c.on("change",d);let e=b.closest(".js-conflict-resolver");null!=e&&(e.classList.add("loading"),c.loading(async()=>{let b=a.getAttribute("data-filename");if(!b)return;let d=`files[${b}]`,f=document.querySelector(".js-resolve-file-form");for(let g of(f.elements.namedItem("filename").value=d,f.querySelector(".js-filename").textContent=decodeURIComponent(b),f.classList.toggle("is-resolved",a.classList.contains("resolved")),a.parentNode.children))g.classList.toggle("selected",g===a);let h=am(d);if(!h){var i,j;let k=await fetch(a.href,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!k.ok){let l=Error(),m=k.statusText?` ${k.statusText}`:"";throw l.message=`HTTP ${k.status}${m}`,l}let n=await k.json();ao(h={document:X.Z.Doc(n.conflicted_file.data,n.conflicted_file.codemirror_mime_type),headDocument:X.Z.Doc(n.head.data,n.head.codemirror_mime_type),baseDocument:X.Z.Doc(n.base.data,n.base.codemirror_mime_type),conflicts:[]}),i=d,j=h,al.set(ak(i),j)}e.classList.remove("loading"),c.setDocument(h.document),document.querySelector(".js-code-editor .js-conflict-count").textContent=new Intl.NumberFormat("en-US").format(h.conflicts.length);let o=document.querySelector(".js-code-editor .js-conflict-label");o.textContent=o.getAttribute(1===h.conflicts.length?"data-singular-string":"data-plural-string"),ap(!0)}))}function ao(a){let b={};a.conflicts=[],a.document.eachLine(c=>{if(!c)return;let d=a.document;if(d.setGutterMarker(c,"merge-gutter",null),!b.start&&/^<<<<<<</.test(c.text)?b.start=c:b.start&&/^=======/.test(c.text)?b.middle=c:b.start&&/^>>>>>>>/.test(c.text)&&(b.end=c),b.start){let e=".js-line";b.start===c?e=".js-start":b.middle===c?e=".js-middle":b.end===c&&(e=".js-end");let f=document.querySelector(`.js-conflict-gutters ${e}`).cloneNode(!0);d.setGutterMarker(c,"merge-gutter",f)}b.end&&(a.conflicts.push(b),b={})})}function ap(a){let b=document.querySelector(".js-resolve-file-form"),c=b.elements.namedItem("filename").value,d=am(c);if(null==d)throw Error("Expected file data to be loaded and was not");let e=d.document.getCursor().line,f=d.conflicts,g=null;for(let h=a?0:f.length-1;a?h<f.length:h>=0;a?h++:h--){let i=f[h].middle;if(null==i)continue;let j=d.document.getLineNumber(i);if(a&&j>e|| !a&&j<e){g=j;break}}null!=g&&d.document.setCursor(g,0),d.document.getEditor().focus()}(0,h.on)("click","a.js-conflicted-file",function(a){let b=a.currentTarget;a.preventDefault(),an(b)}),(0,h.on)("click",".js-prev-conflict",function(a){ap(!1),a.preventDefault()}),(0,h.on)("click",".js-next-conflict",function(a){ap(!0),a.preventDefault()}),(0,h.on)("submit","form.js-resolve-file-form",function(a){let b=a.currentTarget;if(a.preventDefault(),b.querySelector("button.js-mark-resolved").classList.contains("disabled"))return;let c=document.querySelector(".js-conflicted-file.selected");c&&c.classList.add("resolved");let d=document.querySelectorAll(".js-conflicted-file.resolved").length,e=document.querySelectorAll(".js-conflicted-file").length;if(d===e){let f=document.querySelector(".js-resolve-conflicts-complete");f&&f.classList.remove("d-none");let g=document.querySelector(".js-resolve-file-form");g&&g.classList.add("is-resolved")}let h=c;if(null!=h)do h=h.nextElementSibling;while(h&&!h.classList.contains("js-conflicted-file"))if(h instanceof HTMLAnchorElement)return an(h)}),(0,h.on)("submit","form.js-resolve-conflicts-form",async function(a){let b=a.currentTarget;a.preventDefault(),await (0,aj.Z)();let c=new FormData(b),d=b.querySelectorAll("input.js-file");for(let e of d){let g=am(e.name);if(null==g)throw Error("Expected file data to be loaded and was not");c.append(e.name,g.document.getValue())}let h=await fetch(b.action,{method:"POST",body:c,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!h.ok){let i=Error(),j=h.statusText?` ${h.statusText}`:"";throw i.message=`HTTP ${h.status}${j}`,i}let k=await h.json();try{if(k.error)throw Error(k.error);await (0,ah.D)(k.job.url);let l=document.querySelector(".js-code-editor"),m=await (0,f.gD)(l);m.clearConfirmUnloadMessage(),window.location.pathname+="/.."}catch(n){let o=document.querySelector(".js-resolve-conflicts-complete");o&&o.classList.toggle("d-none");let p=document.querySelector(".js-resolve-conflicts-failed");p&&p.classList.toggle("d-none")}}),(0,h.on)("change",".js-conflict-resolver .js-code-editor",async function(a){let b=a.currentTarget,c=await (0,f.gD)(b),d=document.querySelector(".js-resolve-file-form"),e=d.elements.namedItem("filename").value,g=am(e);if(null==g)throw Error("Expected file data to be loaded and was not");let h=0!==g.conflicts.length||/^[<>]{7}/m.test(c.code()),i=b.querySelector("button.js-mark-resolved");i.classList.toggle("disabled",h),i.classList.toggle("tooltipped",h);let j=h?i.getAttribute("data-disabled-label"):"";j&&i.setAttribute("aria-label",j)}),(0,g.N7)(".js-conflict-list",function(a){let b=a.querySelector(".js-conflicted-file");b instanceof HTMLAnchorElement&&an(b);let c=document.querySelector(".new-discussion-timeline");c&&(c.classList.remove("px-3"),c.classList.add("p-0"))}),(0,h.on)("change",".js-conflict-resolution-choice-option",function(a){let b=a.target,c=b.closest(".js-resolve-conflicts-form"),d=c.querySelector(".js-resolve-conflicts-button"),e=c.querySelector(".js-quick-pull-new-branch-name");"direct"===b.value?(d.textContent=d.getAttribute("data-update-text"),d.removeAttribute("data-disable-invalid"),d.removeAttribute("disabled"),e.setAttribute("disabled","true")):(d.textContent=d.getAttribute("data-new-branch-text"),d.setAttribute("data-disable-invalid","true"),e.removeAttribute("disabled"),(0,ai.G)(c))})},54679(a,b,c){c.d(b,{H:()=>f,v:()=>e});var d=c(59753);function e(){let a=document.getElementById("ajax-error-message");a&&(a.hidden=!1)}function f(){let a=document.getElementById("ajax-error-message");a&&(a.hidden=!0)}(0,d.on)("deprecatedAjaxError","[data-remote]",function(a){let b=a.detail,{error:c,text:d}=b;a.currentTarget===a.target&&"abort"!==c&&"canceled"!==c&&(/<html/.test(d)?(e(),a.stopImmediatePropagation()):setTimeout(function(){!a.defaultPrevented&&e()},0))}),(0,d.on)("deprecatedAjaxSend","[data-remote]",function(){f()}),(0,d.on)("click",".js-ajax-error-dismiss",function(){f()})},81574(a,b,c){c.d(b,{Z:()=>h});var d=c(80721),e=c(31167);let f=[],g=0;function h(a){!async function(){f.push(a),await d.x,i()}()}function i(){let a=g;g=f.length,j(f.slice(a),null,window.location.href)}function j(a,b,c){let d=window.location.hash.slice(1),e=d?document.getElementById(d):null,f={oldURL:b,newURL:c,target:e};for(let g of a)g.call(null,f)}h.clear=()=>{f.length=g=0};let k=window.location.href;window.addEventListener("popstate",function(){k=window.location.href}),window.addEventListener("hashchange",function(a){let b=window.location.href;try{j(f,a.oldURL||k,b)}finally{k=b}});let l=null;document.addEventListener(e.QE.START,function(){l=window.location.href}),document.addEventListener(e.QE.SUCCESS,function(){j(f,l,window.location.href)})},81775(a,b,c){c.d(b,{G:()=>i});var d=c(254),e=c(64463),f=c(59753);function g(a){let b=a.getAttribute("data-required-value"),c=a.getAttribute("data-required-value-prefix");if(a.value===b)a.setCustomValidity("");else{let d=b;c&&(d=c+d),a.setCustomValidity(d)}}(0,d.q6)("[data-required-value]",function(a){let b=a.currentTarget;g(b)}),(0,f.on)("change","[data-required-value]",function(a){let b=a.currentTarget;g(b),i(b.form)}),(0,d.q6)("[data-required-trimmed]",function(a){let b=a.currentTarget;""===b.value.trim()?b.setCustomValidity(b.getAttribute("data-required-trimmed")):b.setCustomValidity("")}),(0,f.on)("change","[data-required-trimmed]",function(a){let b=a.currentTarget;""===b.value.trim()?b.setCustomValidity(b.getAttribute("data-required-trimmed")):b.setCustomValidity(""),i(b.form)}),(0,d.ZG)("input[pattern],input[required],textarea[required],input[data-required-change],textarea[data-required-change],input[data-required-value],textarea[data-required-value]",a=>{let b=a.checkValidity();function c(){let c=a.checkValidity();c!==b&&a.form&&i(a.form),b=c}a.addEventListener("input",c),a.addEventListener("blur",function b(){a.removeEventListener("input",c),a.removeEventListener("blur",b)})});let h=new WeakMap;function i(a){let b=a.checkValidity();for(let c of a.querySelectorAll("button[data-disable-invalid]"))c.disabled=!b}(0,e.N7)("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(a){let b=a.form;if(b){var c;c=b,h.get(c)||(c.addEventListener("change",()=>i(c)),h.set(c,!0)),a.disabled=!b.checkValidity()}}}),(0,e.N7)("input[data-required-change], textarea[data-required-change]",function(a){let b=a,c="radio"===b.type&&b.form?b.form.elements.namedItem(b.name).value:null;function d(a){let d=b.form;if(a&&"radio"===b.type&&d&&c)for(let e of d.elements.namedItem(b.name))e instanceof HTMLInputElement&&e.setCustomValidity(b.value===c?"unchanged":"");else b.setCustomValidity(b.value===(c||b.defaultValue)?"unchanged":"")}b.addEventListener("input",d),b.addEventListener("change",d),d(),b.form&&i(b.form)}),document.addEventListener("reset",function(a){if(a.target instanceof HTMLFormElement){let b=a.target;setTimeout(()=>i(b))}})},19146(a,b,c){c.d(b,{W:()=>e});var d=c(59753);async function e(a){let b=document.querySelector("#site-details-dialog"),c=b.content.cloneNode(!0),e=c.querySelector("details"),f=e.querySelector("details-dialog"),g=e.querySelector(".js-details-dialog-spinner");a.detailsClass&&e.classList.add(...a.detailsClass.split(" ")),a.dialogClass&&f.classList.add(...a.dialogClass.split(" ")),a.label?f.setAttribute("aria-label",a.label):a.labelledBy&&f.setAttribute("aria-labelledby",a.labelledBy),document.body.append(c);try{let h=await a.content;g.remove(),f.prepend(h)}catch(i){g.remove();let j=document.createElement("span");j.textContent=a.errorMessage||"Couldn't load the content",j.classList.add("my-6"),j.classList.add("mx-4"),f.prepend(j)}return e.addEventListener("toggle",()=>{e.hasAttribute("open")||((0,d.f)(f,"dialog:remove"),e.remove())}),f}},80721(a,b,c){c.d(b,{C:()=>f,x:()=>e});var d=c(94109);let e=d.n4?.readyState==="interactive"||d.n4?.readyState==="complete"?Promise.resolve():new Promise(a=>{d.n4?.addEventListener("DOMContentLoaded",()=>{a()})}),f=d.n4?.readyState==="complete"?Promise.resolve():new Promise(a=>{d.iG?.addEventListener("load",a)})},98249(a,b,c){c.d(b,{D:()=>g,a:()=>f});var d=c(2825),e=c(75662);async function f(a,b,c){let f=new Request(b,c);f.headers.append("X-Requested-With","XMLHttpRequest");let g=await self.fetch(f);if(g.status<200||g.status>=300)throw Error(`HTTP ${g.status}${g.statusText||""}`);return(0,d.t)((0,d.P)(a),g),(0,e.r)(a,await g.text())}function g(a,b,c=1e3,d=[200]){return async function c(e){let f=new Request(a,b);f.headers.append("X-Requested-With","XMLHttpRequest");let g=await self.fetch(f);if(202===g.status)return await new Promise(a=>setTimeout(a,e)),c(1.5*e);if(d.includes(g.status))return g;if(g.status<200||g.status>=300)throw Error(`HTTP ${g.status}${g.statusText||""}`);throw Error(`Unexpected ${g.status} response status from poll endpoint`)}(c)}},54650(a,b,c){c.d(b,{Bt:()=>h,DN:()=>k,KL:()=>n,Se:()=>j,qC:()=>o,sw:()=>l});var d=c(59753),e=c(76177),f=c(54679);function g(a,b,c){return a.dispatchEvent(new CustomEvent(b,{bubbles:!0,cancelable:c}))}function h(a,b){b&&(i(a,b),(0,e.j)(b)),g(a,"submit",!0)&&a.submit()}function i(a,b){if(!(a instanceof HTMLFormElement))throw TypeError("The specified element is not of type HTMLFormElement.");if(!(b instanceof HTMLElement))throw TypeError("The specified element is not of type HTMLElement.");if("submit"!==b.type)throw TypeError("The specified element is not a submit button.");if(!a||a!==b.form)throw Error("The specified element is not owned by the form element.")}function j(a,b){if("boolean"==typeof b){if(a instanceof HTMLInputElement)a.checked=b;else throw TypeError("only checkboxes can be set to boolean value")}else{if("checkbox"===a.type)throw TypeError("checkbox can't be set to string value");a.value=b}g(a,"change",!1)}function k(a,b){for(let c in b){let d=b[c],e=a.elements.namedItem(c);e instanceof HTMLInputElement?e.value=d:e instanceof HTMLTextAreaElement&&(e.value=d)}}function l(a){if(!(a instanceof HTMLElement))return!1;let b=a.nodeName.toLowerCase(),c=(a.getAttribute("type")||"").toLowerCase();return"select"===b||"textarea"===b||"input"===b&&"submit"!==c&&"reset"!==c||a.isContentEditable}function m(a){return new URLSearchParams(a)}function n(a,b){let c=new URLSearchParams(a.search),d=m(b);for(let[e,f]of d)c.append(e,f);return c.toString()}function o(a){return m(new FormData(a)).toString()}(0,d.on)("click",".js-remote-submit-button",async function(a){let b=a.currentTarget,c=b.form;a.preventDefault();let d;try{d=await fetch(c.action,{method:c.method,body:new FormData(c),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}d&&!d.ok&&(0,f.v)()})},2825(a,b,c){function d(a){let b=[...a.querySelectorAll("meta[name=html-safe-nonce]")].map(a=>a.content);if(b.length<1)throw Error("could not find html-safe-nonce on document");return b}c.d(b,{P:()=>d,t:()=>f});let e=class ResponseError extends Error{constructor(a,b){super(`${a} for HTTP ${b.status}`),this.response=b}};function f(a,b,c=!1){let d=b.headers.get("content-type")||"";if(!c&&!d.startsWith("text/html"))throw new e(`expected response with text/html, but was ${d}`,b);if(c&&!(d.startsWith("text/html")||d.startsWith("application/json")))throw new e(`expected response with text/html or application/json, but was ${d}`,b);let f=b.headers.get("x-html-safe");if(f){if(!a.includes(f))throw new e("response X-HTML-Safe nonce did not match",b)}else throw new e("missing X-HTML-Safe nonce",b)}},254(a,b,c){c.d(b,{ZG:()=>h,q6:()=>j,w4:()=>i});var d=c(8439);let e=!1,f=new d.Z;function g(a){let b=a.target;if(b instanceof HTMLElement&&b.nodeType!==Node.DOCUMENT_NODE)for(let c of f.matches(b))c.data.call(null,b)}function h(a,b){e||(e=!0,document.addEventListener("focus",g,!0)),f.add(a,b),document.activeElement instanceof HTMLElement&&document.activeElement.matches(a)&&b(document.activeElement)}function i(a,b,c){function d(b){let e=b.currentTarget;e&&(e.removeEventListener(a,c),e.removeEventListener("blur",d))}h(b,function(b){b.addEventListener(a,c),b.addEventListener("blur",d)})}function j(a,b){function c(a){let{currentTarget:d}=a;d&&(d.removeEventListener("input",b),d.removeEventListener("blur",c))}h(a,function(a){a.addEventListener("input",b),a.addEventListener("blur",c)})}},75662(a,b,c){c.d(b,{r:()=>d});function d(a,b){let c=a.createElement("template");return c.innerHTML=b,a.importNode(c.content,!0)}},76177(a,b,c){function d(a){let b=a.closest("form");if(!(b instanceof HTMLFormElement))return;let c=e(b);if(a.name){let d=a.matches("input[type=submit]")?"Submit":"",f=a.value||d;c||((c=document.createElement("input")).type="hidden",c.classList.add("js-submit-button-value"),b.prepend(c)),c.name=a.name,c.value=f}else c&&c.remove()}function e(a){let b=a.querySelector("input.js-submit-button-value");return b instanceof HTMLInputElement?b:null}c.d(b,{j:()=>d,u:()=>e})},86702(a,b,c){c.d(b,{Z:()=>g,"_":()=>h});var d=c(94109),e=c(34855);let f=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function g(a,b={throwQuotaErrorsOnSet:!1},c=d.iG,g=a=>a,h=a=>a){let i;try{if(!c)throw Error();i=c[a]||new f}catch{i=new f}let{throwQuotaErrorsOnSet:j}=b;function k(a){b.sendCacheStats&&(0,e.b)({incrementKey:a})}function l(a){try{if(i.removeItem(a),b.ttl){let c=`${a}:expiry`;i.removeItem(c)}}catch(d){}}return{getItem:function(a,b=new Date().getTime()){try{let c=i.getItem(a);if(!c)return null;let d=`${a}:expiry`,e=Number(i.getItem(d));if(e&&b>e)return l(a),l(d),k("SAFE_STORAGE_VALUE_EXPIRED"),null;return k("SAFE_STORAGE_VALUE_WITHIN_TTL"),g(c)}catch(f){return null}},setItem:function(a,c,d=new Date().getTime()){try{if(i.setItem(a,h(c)),b.ttl){let e=`${a}:expiry`,f=d+b.ttl;i.setItem(e,f.toString())}}catch(g){if(j&&g.message.toLowerCase().includes("quota"))throw g}},removeItem:l,clear:i.clear,key:i.key,get length(){return i.length}}}function h(a){return g(a,{throwQuotaErrorsOnSet:!1},window,JSON.parse,JSON.stringify)}},25811(a,b,c){c.d(b,{LS:()=>f,cl:()=>g,rV:()=>e});var d=c(86702);let{getItem:e,setItem:f,removeItem:g}=(0,d.Z)("sessionStorage")},55065(a,b,c){c.d(b,{"$g":()=>SoftNavSuccessEvent,OV:()=>SoftNavStartEvent,QW:()=>SoftNavErrorEvent,Xr:()=>SoftNavEndEvent});var d=c(31167);let e=class SoftNavEvent extends Event{constructor(a,b){super(b),this.mechanism=a}};class SoftNavStartEvent extends e{constructor(a){super(a,d.QE.START)}}class SoftNavSuccessEvent extends e{constructor(a,b){super(a,d.QE.SUCCESS),this.visitCount=b}}class SoftNavErrorEvent extends e{constructor(a,b){super(a,d.QE.ERROR),this.error=b}}class SoftNavEndEvent extends e{constructor(a){super(a,d.QE.END)}}},31167(a,b,c){c.d(b,{BT:()=>l,FP:()=>n,LD:()=>k,QE:()=>g,TL:()=>o,Yl:()=>j,jN:()=>h,r_:()=>m,u5:()=>p});var d=c(55065),e=c(29573),f=c(58843);let g=Object.freeze({INITIAL:"soft-nav:initial",START:"soft-nav:start",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",FRAME_UPDATE:"soft-nav:frame-update",END:"soft-nav:end",RENDER:"soft-nav:render",PROGRESS_BAR:{START:"soft-nav:progress-bar:start",END:"soft-nav:progress-bar:end"}}),h="reload",i=0;function j(){i=0,document.dispatchEvent(new Event(g.INITIAL)),(0,f.XL)()}function k(a){(0,f.sj)()||(q(),document.dispatchEvent(new d.OV(a)),(0,f.U6)(a),(0,f.J$)(),(0,f.Nt)(),(0,e.hY)())}function l(a={}){s(a)&&(i+=1,document.dispatchEvent(new d.$g((0,f.Gj)(),i)),n(a))}function m(a={}){if(!s(a))return;i=0;let b=(0,f.Wl)()||h;document.dispatchEvent(new d.QW((0,f.Gj)(),b)),r(),(0,e.t3)(b),(0,f.XL)()}function n(a={}){s(a)&&(r(),document.dispatchEvent(new d.Xr((0,f.Gj)())),(0,f.pS)())}function o(a={}){s(a)&&((0,e.mr)(),document.dispatchEvent(new Event(g.RENDER)))}function p(){document.dispatchEvent(new Event(g.FRAME_UPDATE))}function q(){document.dispatchEvent(new Event(g.PROGRESS_BAR.START))}function r(){document.dispatchEvent(new Event(g.PROGRESS_BAR.END))}function s({skipIfGoingToReactApp:a,allowedMechanisms:b=[]}={}){return(0,f.sj)()&&(0===b.length||b.includes((0,f.Gj)()))&&(!a||!(0,f.Nb)())}},29573(a,b,c){c.d(b,{CF:()=>g,hY:()=>h,mr:()=>j,t3:()=>i});var d=c(34855),e=c(58843);let f="stats:soft-nav-duration",g={turbo:"TURBO",react:"REACT","turbo.frame":"FRAME",ui:"UI",hard:"HARD"};function h(){performance.mark(f)}function i(a){(0,d.b)({turboFailureReason:a,turboStartUrl:(0,e.wP)(),turboEndUrl:window.location.href})}function j(){let a=function(){if(0===performance.getEntriesByName(f).length)return null;performance.measure(f,f);let a=performance.getEntriesByName(f),b=a.pop();return b?b.duration:null}();if(!a)return;let b=g[(0,e.Gj)()],c=Math.round(a);b===g.react&&document.dispatchEvent(new CustomEvent("staffbar-update",{detail:{duration:c}})),(0,d.b)({requestUrl:window.location.href,softNavigationTiming:{mechanism:b,destination:(0,e.Nb)()||"rails",duration:c,initiator:(0,e.CI)()||"rails"}})}},58843(a,b,c){c.d(b,{Ak:()=>r,CI:()=>v,Gj:()=>o,"J$":()=>u,Nb:()=>w,Nt:()=>s,OE:()=>p,U6:()=>l,Wl:()=>q,XL:()=>k,pS:()=>m,sj:()=>n,wP:()=>t});var d=c(25811),e=c(31167);let f="soft-nav:fail",g="soft-nav:fail-referrer",h="soft-nav:referrer",i="soft-nav:marker",j="soft-nav:react-app-name";function k(){(0,d.LS)(i,"0"),(0,d.cl)(h),(0,d.cl)(f),(0,d.cl)(g),(0,d.cl)(j)}function l(a){(0,d.LS)(i,a)}function m(){(0,d.LS)(i,"0")}function n(){let a=(0,d.rV)(i);return a&&"0"!==a}function o(){return(0,d.rV)(i)}function p(){return Boolean(q())}function q(){return(0,d.rV)(f)}function r(a){(0,d.LS)(f,a||e.jN),(0,d.LS)(g,window.location.href)}function s(){(0,d.LS)(h,window.location.href)}function t(){return(0,d.rV)(h)||document.referrer}function u(){let a=w();a?(0,d.LS)(j,a):(0,d.cl)(j)}function v(){return(0,d.rV)(j)}function w(){return document.querySelector('meta[name="ui"]')?"ui":document.querySelector("react-app")?.getAttribute("app-name")}},40458(a,b,c){c.d(b,{Z:()=>l});var d=c(19146),e=c(98249),f=c(64463);function g(a){let b=document.querySelector(".sso-modal");b&&(b.classList.remove("success","error"),a?b.classList.add("success"):b.classList.add("error"))}async function h(){var a;let b=document.querySelector("link[rel=sso-modal]"),c=await (0,d.W)({content:(0,e.a)(document,b.href),dialogClass:"sso-modal"}),f=null,h=window.external;if(h.ssoComplete=function(a){a.error?g(f=!1):(g(f=!0),function(a){let b=document.querySelector("meta[name=sso-expires-around]");b&&b.setAttribute("content",a)}(a.expiresAround),window.focus()),h.ssoComplete=null},await (a=c,new Promise(b=>{a.addEventListener("dialog:remove",b,{once:!0})})),!f)throw Error("sso prompt canceled")}async function i(){let a=document.querySelector("link[rel=sso-session]"),b=document.querySelector("meta[name=sso-expires-around]");if(!(a instanceof HTMLLinkElement)||!function(a){if(!(a instanceof HTMLMetaElement))return!0;let b=parseInt(a.content),c=new Date().getTime()/1e3;return c>b}(b))return!0;let c=a.href,d=await fetch(c,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),e=await d.json();return e}(0,f.N7)(".js-sso-modal-complete",function(a){if(window.opener&&window.opener.external.ssoComplete){let b=a.getAttribute("data-error"),c=a.getAttribute("data-expires-around");window.opener.external.ssoComplete({error:b,expiresAround:c}),window.close()}else{let d=a.getAttribute("data-fallback-url");d&&(window.location.href=d)}});let j=null;function k(){j=null}async function l(){let a=await i();a||(j||(j=h().then(k).catch(k)),await j)}},34855(a,b,c){c.d(b,{B:()=>l,b:()=>g});var d=c(94109),e=c(80721);let f=[];function g(a,b=!1){void 0===a.timestamp&&(a.timestamp=new Date().getTime()),a.loggedIn=k(),a.staff=l(),f.push(a),b?j():i()}let h=null;async function i(){await e.C,null==h&&(h=window.requestIdleCallback(j))}function j(){if(h=null,!f.length)return;let a=d.n4?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(!a)return;let b=JSON.stringify({stats:f});try{navigator.sendBeacon&&navigator.sendBeacon(a,b)}catch{}f=[]}function k(){return!!d.n4?.head?.querySelector('meta[name="user-login"]')?.content}function l(){return!!d.n4?.head?.querySelector('meta[name="user-staff"]')?.content}d.n4?.addEventListener("pagehide",j),d.n4?.addEventListener("visibilitychange",j)},93928(a,b,c){function d(a){let b=a.split("\u200D"),c=0;for(let d of b){let e=Array.from(d.split(/[\ufe00-\ufe0f]/).join("")).length;c+=e}return c/b.length}function e(a,b,c,d=!0){let e=a.value.substring(0,a.selectionEnd||0),f=a.value.substring(a.selectionEnd||0);return h(a,(e=e.replace(b,c))+(f=f.replace(b,c)),e.length,d),c}function f(a,b,c){if(null===a.selectionStart||null===a.selectionEnd)return e(a,b,c);let d=a.value.substring(0,a.selectionStart),f=a.value.substring(a.selectionEnd);return h(a,d+c+f,d.length),c}function g(a,b,c={}){let d=a.selectionEnd||0,e=a.value.substring(0,d),f=a.value.substring(d),g=""===a.value||e.match(/\n$/)?"":"\n",h=c.appendNewline?"\n":"",i=g+b+h;a.value=e+i+f;let j=d+i.length;return a.selectionStart=j,a.selectionEnd=j,a.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),a.focus(),i}function h(a,b,c,d=!0){a.value=b,d&&(a.selectionStart=c,a.selectionEnd=c),a.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}function i(a,b){let c=[...a],d=new TextEncoder,e=new Uint8Array(4);for(let f=0;f<c.length;f++){let g=c[f],{written:h,read:i}=d.encodeInto(g,e);if(!h||!i)return -1;let j=h-i;if(0!==j&&(f<b&&(b-=j),f>=b))break}return b}c.d(b,{Om:()=>g,lp:()=>e,rq:()=>d,t4:()=>f,yb:()=>i})},68423(a,b,c){c.d(b,{dY:()=>k,iU:()=>j,oq:()=>i});let d=new WeakMap;function e(a){let b=d.get(a);b&&(null!=b.timer&&clearTimeout(b.timer),b.timer=window.setTimeout(()=>{null!=b.timer&&(b.timer=null),b.inputed=!1,b.listener.call(null,a)},b.wait))}function f(a){let b=a.currentTarget,c=d.get(b);c&&(c.keypressed=!0,null!=c.timer&&clearTimeout(c.timer))}function g(a){let b=a.currentTarget,c=d.get(b);c&&(c.keypressed=!1,c.inputed&&e(b))}function h(a){let b=a.currentTarget,c=d.get(b);c&&(c.inputed=!0,c.keypressed||e(b))}function i(a,b,c={wait:null}){d.set(a,{keypressed:!1,inputed:!1,timer:void 0,listener:b,wait:null!=c.wait?c.wait:100}),a.addEventListener("keydown",f),a.addEventListener("keyup",g),a.addEventListener("input",h)}function j(a,b){a.removeEventListener("keydown",f),a.removeEventListener("keyup",g),a.removeEventListener("input",h);let c=d.get(a);c&&(null!=c.timer&&c.listener===b&&clearTimeout(c.timer),d.delete(a))}function k(a){let b=d.get(a);b&&b.listener.call(null,a)}},97629(a,b,c){c.d(b,{Z:()=>d});function d(a){var b;return!((b=a).offsetWidth<=0)||!(b.offsetHeight<=0)}},94109(a,b,c){c.d(b,{iG:()=>e,jX:()=>f,n4:()=>d});let d="undefined"==typeof document?void 0:document,e="undefined"==typeof window?void 0:window,f="undefined"==typeof location?{pathname:"",origin:""}:location},76006(a,b,c){c.d(b,{Lj:()=>p,Ih:()=>w,P4:()=>l,nW:()=>E,fA:()=>u,GO:()=>v});let d=new WeakSet;function e(a){h(a),g(a)}let f=new WeakMap;function g(a=document){if(f.has(a))return f.get(a);let b=!1,c=new MutationObserver(a=>{for(let b of a)if("attributes"===b.type&&b.target instanceof Element)k(b.target);else if("childList"===b.type&&b.addedNodes.length)for(let c of b.addedNodes)c instanceof Element&&h(c)});c.observe(a,{childList:!0,subtree:!0,attributeFilter:["data-action"]});let d={get closed(){return b},unsubscribe(){b=!0,f.delete(a),c.disconnect()}};return f.set(a,d),d}function h(a){for(let b of a.querySelectorAll("[data-action]"))k(b);a instanceof Element&&a.hasAttribute("data-action")&&k(a)}function i(a){let b=a.currentTarget;for(let c of j(b))if(a.type===c.type){let e=b.closest(c.tag);d.has(e)&&"function"==typeof e[c.method]&&e[c.method](a);let f=b.getRootNode();if(f instanceof ShadowRoot&&d.has(f.host)&&f.host.matches(c.tag)){let g=f.host;"function"==typeof g[c.method]&&g[c.method](a)}}}function*j(a){for(let b of(a.getAttribute("data-action")||"").trim().split(/\s+/)){let c=b.lastIndexOf(":"),d=Math.max(0,b.lastIndexOf("#"))||b.length;yield{type:b.slice(0,c),tag:b.slice(c+1,d),method:b.slice(d+1)||"handleEvent"}}}function k(a){for(let b of j(a))a.addEventListener(b.type,i)}function l(a,b){let c=a.tagName.toLowerCase();if(a.shadowRoot){for(let d of a.shadowRoot.querySelectorAll(`[data-target~="${c}.${b}"]`))if(!d.closest(c))return d}for(let e of a.querySelectorAll(`[data-target~="${c}.${b}"]`))if(e.closest(c)===a)return e}let m=a=>String("symbol"==typeof a?a.description:a).replace(/([A-Z]($|[a-z]))/g,"-$1").replace(/--/g,"-").replace(/^-|-$/,"").toLowerCase(),n=(a,b="property")=>{let c=m(a);if(!c.includes("-"))throw new DOMException(`${b}: ${String(a)} is not a valid ${b} name`,"SyntaxError");return c},o="attr";function p(a,b){t(a,o).add(b)}let q=new WeakSet;function r(a,b){if(q.has(a))return;q.add(a);let c=Object.getPrototypeOf(a),d=c?.constructor?.attrPrefix??"data-";for(let e of(b||(b=t(c,o)),b)){let f=a[e],g=n(`${d}${e}`),h={configurable:!0,get(){return this.getAttribute(g)||""},set(a){this.setAttribute(g,a||"")}};"number"==typeof f?h={configurable:!0,get(){return Number(this.getAttribute(g)||0)},set(a){this.setAttribute(g,a)}}:"boolean"==typeof f&&(h={configurable:!0,get(){return this.hasAttribute(g)},set(a){this.toggleAttribute(g,a)}}),Object.defineProperty(a,e,h),e in a&&!a.hasAttribute(g)&&h.set.call(a,f)}}let s=Symbol.for("catalyst");class CatalystDelegate{constructor(a){let b=this,c=a.prototype.connectedCallback;a.prototype.connectedCallback=function(){b.connectedCallback(this,c)};let d=a.prototype.disconnectedCallback;a.prototype.disconnectedCallback=function(){b.disconnectedCallback(this,d)};let e=a.prototype.attributeChangedCallback;a.prototype.attributeChangedCallback=function(a,c,d){b.attributeChangedCallback(this,a,c,d,e)};let f=a.observedAttributes||[];Object.defineProperty(a,"observedAttributes",{configurable:!0,get(){return b.observedAttributes(this,f)},set(a){f=a}}),function(a){let b=a.observedAttributes||[],c=a.attrPrefix??"data-",d=a=>n(`${c}${a}`);Object.defineProperty(a,"observedAttributes",{configurable:!0,get:()=>[...t(a.prototype,o)].map(d).concat(b),set(a){b=a}})}(a),function(a){let b=m(a.name).replace(/-element$/,"");try{window.customElements.define(b,a),window[a.name]=customElements.get(b)}catch(c){if(!(c instanceof DOMException&&"NotSupportedError"===c.name))throw c}}(a)}observedAttributes(a,b){return b}connectedCallback(a,b){var c;a.toggleAttribute("data-catalyst",!0),customElements.upgrade(a),function(a){for(let b of a.querySelectorAll("template[data-shadowroot]"))b.parentElement===a&&a.attachShadow({mode:"closed"===b.getAttribute("data-shadowroot")?"closed":"open"}).append(b.content.cloneNode(!0))}(a),r(a),c=a,d.add(c),c.shadowRoot&&e(c.shadowRoot),h(c),g(c.ownerDocument),b?.call(a),a.shadowRoot&&e(a.shadowRoot)}disconnectedCallback(a,b){b?.call(a)}attributeChangedCallback(a,b,c,d,e){r(a),"data-catalyst"!==b&&e&&e.call(a,b,c,d)}}function t(a,b){if(!Object.prototype.hasOwnProperty.call(a,s)){let c=a[s],d=a[s]=new Map;if(c)for(let[e,f]of c)d.set(e,new Set(f))}let g=a[s];return g.has(b)||g.set(b,new Set),g.get(b)}function u(a,b){t(a,"target").add(b),Object.defineProperty(a,b,{configurable:!0,get(){return l(this,b)}})}function v(a,b){t(a,"targets").add(b),Object.defineProperty(a,b,{configurable:!0,get(){return function(a,b){let c=a.tagName.toLowerCase(),d=[];if(a.shadowRoot)for(let e of a.shadowRoot.querySelectorAll(`[data-targets~="${c}.${b}"]`))e.closest(c)||d.push(e);for(let f of a.querySelectorAll(`[data-targets~="${c}.${b}"]`))f.closest(c)===a&&d.push(f);return d}(this,b)}})}function w(a){new CatalystDelegate(a)}let x=new Map,y=new Promise(a=>{"loading"!==document.readyState?a():document.addEventListener("readystatechange",()=>a(),{once:!0})}),z=new Promise(a=>{let b=new AbortController;b.signal.addEventListener("abort",()=>a());let c={once:!0,passive:!0,signal:b.signal},d=()=>b.abort();document.addEventListener("mousedown",d,c),document.addEventListener("touchstart",d,c),document.addEventListener("keydown",d,c),document.addEventListener("pointerdown",d,c)}),A={ready:()=>y,firstInteraction:()=>z,visible:a=>new Promise(b=>{let c=new IntersectionObserver(a=>{for(let d of a)if(d.isIntersecting){b(),c.disconnect();return}},{rootMargin:"0px 0px 256px 0px",threshold:.01});for(let d of document.querySelectorAll(a))c.observe(d)})},B=new WeakMap;function C(a){cancelAnimationFrame(B.get(a)||0),B.set(a,requestAnimationFrame(()=>{for(let b of x.keys()){let c=a.matches(b)?a:a.querySelector(b);if(customElements.get(b)||c){let d=c?.getAttribute("data-load-on")||"ready",e=d in A?A[d]:A.ready;for(let f of x.get(b)||[])e(b).then(f);x.delete(b),B.delete(a)}}}))}let D;function E(a,b){x.has(a)||x.set(a,new Set),x.get(a).add(b),C(document.body),D||(D=new MutationObserver(a=>{if(x.size)for(let b of a)for(let c of b.addedNodes)c instanceof Element&&C(c)})).observe(document,{subtree:!0,childList:!0})}}},a=>{var b=b=>a(a.s=b);a.O(0,["vendors-node_modules_selector-observer_dist_index_esm_js","vendors-node_modules_codemirror_lib_codemirror_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_codemirror-contrib_lib_m-278f5c","app_assets_modules_github_behaviors_keyboard-shortcuts-helper_ts-app_assets_modules_github_co-366996"],()=>b(96556));var c=a.O()}])
//# sourceMappingURL=editor-76c91ea67280.js.map