"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_diffs_blob-lines_ts-app_assets_modules_github_diffs_linkable-line-n-dca161"],{56334(a,b,c){function d(a){let b=a.match(/#?(?:L)(\d+)((?:C)(\d+))?/g);if(b){if(1===b.length){let c=g(b[0]);if(!c)return;return Object.freeze({start:c,end:c})}if(2!==b.length)return;{let d=g(b[0]),e=g(b[1]);if(!d||!e)return;return k(Object.freeze({start:d,end:e}))}}}function e(a){let b=d(a),c=function(a){let b=a.match(/(file-.+?-)L\d+?/i);return b?b[1]:""}(a);return{blobRange:b,anchorPrefix:c}}function f({anchorPrefix:a,blobRange:b}){return b?`#${a}${function(a){let{start:b,end:c}=k(a);return null!=b.column&&null!=c.column?`L${b.line}C${b.column}-L${c.line}C${c.column}`:null!=b.column?`L${b.line}C${b.column}-L${c.line}`:null!=c.column?`L${b.line}-L${c.line}C${c.column}`:b.line===c.line?`L${b.line}`:`L${b.line}-L${c.line}`}(b)}`:"#"}function g(a){let b=a.match(/L(\d+)/),c=a.match(/C(\d+)/);return b?Object.freeze({line:parseInt(b[1]),column:c?parseInt(c[1]):null}):null}function h(a,b){let[c,d]=i(a.start,!0,b),[e,f]=i(a.end,!1,b);if(!c||!e)return;let g=d,h=f;if(-1===g&&(g=0),-1===h&&(h=e.childNodes.length),!c.ownerDocument)throw Error("DOMRange needs to be inside document");let j=c.ownerDocument.createRange();return j.setStart(c,g),j.setEnd(e,h),j}function i(a,b,c){let d=[null,0],e=c(a.line);if(!e)return d;if(null==a.column)return[e,-1];let f=a.column-1,g=j(e);for(let h=0;h<g.length;h++){let i=g[h],k=f-(i.textContent||"").length;if(0===k){let l=g[h+1];if(b&&l)return[l,0];return[i,f]}if(k<0)return[i,f];f=k}return d}function j(a){if(a.nodeType===Node.TEXT_NODE)return[a];if(!a.childNodes||!a.childNodes.length)return[];let b=[];for(let c of a.childNodes)b=b.concat(j(c));return b}function k(a){let b=[a.start,a.end];return(b.sort(l),b[0]===a.start&&b[1]===a.end)?a:Object.freeze({start:b[0],end:b[1]})}function l(a,b){return a.line===b.line&&a.column===b.column?0:a.line===b.line&&"number"==typeof a.column&&"number"==typeof b.column?a.column-b.column:a.line-b.line}c.d(b,{Dw:()=>f,G5:()=>d,M9:()=>h,n6:()=>e})},57088(a,b,c){var d=c(56334),e=c(76745),f=c(69567),g=c(81574),h=c(64463),i=c(59753),j=c(78459),k=c(11445);let l=!1;function m(a,b){return document.querySelector(`#${a}LC${b}`)}function n(){let a=(0,d.n6)(window.location.hash);!function({blobRange:a,anchorPrefix:b}){let c=document.querySelectorAll(".js-file-line");if(0!==c.length&&(function a(){for(let b of document.querySelectorAll(".js-file-line.highlighted"))b.classList.remove("highlighted");for(let c of document.querySelectorAll(".js-file-line .highlighted")){let d=c.closest(".js-file-line");c.replaceWith(...c.childNodes),d.normalize()}}(),a)){if(null===a.start.column||null===a.end.column)for(let e=a.start.line;e<=a.end.line;e+=1){let f=m(b,e);f&&f.classList.add("highlighted")}else if(a.start.line===a.end.line&&null!=a.start.column&&null!=a.end.column){let g=(0,d.M9)(a,a=>m(b,a));if(g){let h=document.createElement("span");h.classList.add("highlighted"),(0,k.v)(g,h)}}}}(a),o();let{blobRange:b,anchorPrefix:c}=a,e=b&&m(c,b.start.line);if(!l&&e){e.scrollIntoView();let f=e.closest(".blob-wrapper, .js-blob-wrapper");f.scrollLeft=0}l=!1}function o(){let a=document.querySelector(".js-file-line-actions");if(!a)return;let b=document.querySelectorAll(".js-file-line.highlighted"),c=b[0];if(c){!function(a){let b=[];for(let c of a)b.push(c.textContent);let d=document.getElementById("js-copy-lines");if(d instanceof e.Z){d.textContent=`Copy ${1===a.length?"line":"lines"}`,d.value=b.join("\n");let f=`Blob, copyLines, numLines:${a.length.toString()}`;d.setAttribute("data-ga-click",f)}}(b),function(a){let b=document.getElementById("js-view-git-blame");b&&b.setAttribute("data-ga-click",`Blob, viewGitBlame, numLines:${a.toString()}`)}(b.length);let d=function(a){let b=document.querySelector(".js-permalink-shortcut");if(b instanceof HTMLAnchorElement){let c=`${b.href}${window.location.hash}`,d=document.getElementById("js-copy-permalink");if(d instanceof e.Z){d.value=c;let f=`Blob, copyPermalink, numLines:${a.toString()}`;d.setAttribute("data-ga-click",f)}return c}}(b.length);d&&function(a,b){let c=document.getElementById("js-new-issue");if(c instanceof HTMLAnchorElement){if(!c.href)return;let d=new URL(c.href,window.location.origin),e=new URLSearchParams(d.search);e.set("permalink",a),d.search=e.toString(),c.href=d.toString(),c.setAttribute("data-ga-click",`Blob, newIssue, numLines:${b.toString()}`)}}(d,b.length),d&&function(a,b){let c=document.getElementById("js-new-discussion");if(!(c instanceof HTMLAnchorElement)||!c?.href)return;let d=new URL(c.href,window.location.origin),e=new URLSearchParams(d.search);e.set("permalink",a),d.search=e.toString(),c.href=d.toString(),c.setAttribute("data-ga-click",`Blob, newDiscussion, numLines:${b.toString()}`)}(d,b.length),a.style.top=`${c.offsetTop-2}px`,a.classList.remove("d-none")}else a.classList.add("d-none")}(0,g.Z)(function(){if(document.querySelector(".js-file-line-container")){setTimeout(n,0);let a=window.location.hash;for(let b of document.querySelectorAll(".js-update-url-with-hash"))if(b instanceof HTMLAnchorElement)b.hash=a;else if(b instanceof HTMLFormElement){let c=new URL(b.action,window.location.origin);c.hash=a,b.action=c.toString()}}}),(0,i.on)("click",".js-line-number",function(a){let b=(0,d.n6)(a.currentTarget.id),{blobRange:c}=b,e=(0,d.G5)(window.location.hash);e&&a.shiftKey&&(b.blobRange={start:e.start,end:c.end}),function(a){let b=window.scrollY;l=!0,a(),window.scrollTo(0,b)}(()=>{window.location.hash=(0,d.Dw)(b)})}),(0,i.on)("submit",".js-jump-to-line-form",function(a){let b=a.currentTarget.querySelector(".js-jump-to-line-field"),c=b.value.replace(/[^\d-]/g,""),d=c.split("-").map(a=>parseInt(a,10)).filter(a=>a>0).sort((a,b)=>a-b);d.length&&(window.location.hash=`L${d.join("-L")}`),a.preventDefault()}),(0,h.N7)(".js-check-bidi",function(a){let b=!1,c=performance.now(),d=a.textContent||"";if(p.test(d)){let e=a.querySelectorAll(".diff-table .blob-code-inner, .js-file-line-container .js-file-line, .js-suggested-changes-blob .blob-code-inner"),g=document.querySelector(".js-line-alert-template"),h=document.querySelector(".js-revealed-character-template");for(let i of e)if(r(i,h)&&(b=!0,g)){let k=new f.R(g,{});"before"===a.getAttribute("data-line-alert")?i.before(k):i.after(k)}}let l=performance.now()-c,m={durationMs:l.toString(),result:b.toString()};if((0,j.q)("blob_js_check_bidi_character",m),b){let n=document.querySelector(".js-file-alert-template");if(n){let o=new URL(window.location.href,window.location.origin);"1"===o.searchParams.get("h")?o.searchParams.delete("h"):o.searchParams.set("h","1");let q=new f.R(n,{revealButtonHref:o.href});a.prepend(q)}}a.classList.remove("js-check-bidi")});let p=/[\u202A-\u202E]|[\u2066-\u2069]/,q={"\u202A":"U+202A","\u202B":"U+202B","\u202C":"U+202C","\u202D":"U+202D","\u202E":"U+202E","\u2066":"U+2066","\u2067":"U+2067","\u2068":"U+2068","\u2069":"U+2069"};function r(a,b){if(a.nodeType===Node.TEXT_NODE)return s(a,b);if(!a.childNodes||!a.childNodes.length)return!1;let c=!1;for(let d of a.childNodes)if(c||(c=r(d,b)),c&&!b)break;return c}function s(a,b){let c=!1;if(a.nodeValue)for(let d=a.nodeValue.length-1;d>=0;d--){let e=a.nodeValue.charAt(d);if(q[e]){if(c=!0,!b)break;let g=new f.R(b,{revealedCharacter:q[e]}),h=new Range;h.setStart(a,d),h.setEnd(a,d+1),h.deleteContents(),h.insertNode(g)}}return c}let t=class CodeListingLine{range(a,b){a=isNaN(a)?0:a,b=isNaN(b)?0:b;let c=null,d=0,e=0;for(let[f,g]of this.lineElement.childNodes.entries()){let h=(g.textContent||"").length;if(h>a&&!c&&(c=g,d=f),h>=b){e=f;break}a-=h,b-=h}let i=document.createRange();if(d===e){for(;c&&"#text"!==c.nodeName;)c=c.childNodes[0];if(!c)return null;i.setStart(c,a),i.setEnd(c,b)}else i.setStart(this.lineElement,d),i.setEnd(this.lineElement,e+1);return i}constructor(a,b){this.lineElement=a,this.numberElement=b}},u=class CodeListing{findLine(a){if(!a)return null;let b=this.container.querySelector(`.js-blob-rnum[data-line-number='${a}']`);if(!b)return null;let c=b.nextElementSibling;return c&&c.classList.contains("js-file-line")?(c=c.querySelector(".js-code-nav-pass")||c,new t(c,b)):null}constructor(a){this.container=a}},v=new WeakMap;function w(a){if(!a)return;let b=a.closest(".js-blob-code-container, .js-file-content"),c=a.querySelector(".js-codeowners-error-tooltip-template"),d=a.querySelector(".js-codeowners-error-line-alert-template");if(!b||!c||!d)return;let e=b.querySelector("deferred-diff-lines");if(e?.isAwaitingHighlight())return;let g=a.querySelectorAll(".js-codeowners-error"),h=new u(b);for(let i of g){if(v.get(i))continue;let j=i.getAttribute("data-line"),k=i.getAttribute("data-kind"),l=i.getAttribute("data-suggestion"),m=parseInt(i.getAttribute("data-start-offset")||"",10),n=parseInt(i.getAttribute("data-end-offset")||"",10),o=h.findLine(j),p=o?.range(m,n);if(!o||!p)continue;let q=k;l&&(q+=`: ${l}`);let r=document.createElement("SPAN");r.className="error-highlight",p.surroundContents(r);let s=new f.R(c,{message:q}).firstElementChild;p.surroundContents(s);let t=new f.R(d,{});o.numberElement.appendChild(t),v.set(i,!0)}}(0,h.N7)(".js-codeowners-errors",w),(0,i.on)("expander:expanded",".js-file",function(a){if(!a.target||!(a.target instanceof HTMLElement))return;let b=a.target.querySelector(".js-codeowners-errors");w(b)}),(0,i.on)("deferred-highlight:applied","deferred-diff-lines",function(a){if(!a.target||!(a.target instanceof HTMLElement))return;let b=a.target.closest(".js-file"),c=b?.querySelector(".js-codeowners-errors");w(c)})},37574(a,b,c){c.d(b,{s:()=>d});function d(a){let b=a.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=b&&6===b.length)return b;let c=a.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=c&&6===c.length?c:null}},47851(a,b,c){c.d(b,{MO:()=>r,vu:()=>n,Oz:()=>p});let d=class DiffPosition{sideForCommenting(){return this.element&&this.element.classList.contains("blob-num-context")?"right":({R:"right",L:"left"})[this.side]}isContext(){return!!this.element&&this.element.classList.contains("blob-num-context")}anchor(){return`${this.diffId}${this.anchorSuffix()}`}anchorSuffix(){return`${this.side}${this.lineNumber}`}is(a){return this.diffId===a.diffId&&this.side===a.side&&this.lineNumber===a.lineNumber}constructor(a,b,d){this.diffId=a,this.side=b,this.lineNumber=d,this.element=(0,c(87098).Q)(document,this.anchor())}};class DiffRange{anchor(){let a=[];return a.push(this.start.anchor()),this.start.is(this.end)||a.push(this.end.anchorSuffix()),a.join("-")}parse(){if(!this.diffTable)return;let a=this.unify(this.diffTable.querySelectorAll(".js-linkable-line-number"));a=this.filterInRange(a),this.lineCount=a.length,this.elements=this.expandRelatedElements(a),this._commentOutsideTheDiff=this.diffTable.classList.contains("js-comment-outside-the-diff"),this.isParsed=!0}unify(a){if(!this.isSplit)return Array.from(a);let b=[],c=[],d=[];for(let e of a)e.classList.contains("blob-num-addition")?c.push(e):e.classList.contains("blob-num-deletion")?d.push(e):(b.push(...d,...c,e),c=[],d=[]);return b.push(...d,...c),b}filterInRange(a){if(!this.start.element||!this.end.element)return[];let b=a.indexOf(this.start.element),c=a.indexOf(this.end.element);if(b>c){[b,c]=[c,b];let[d,e]=[this.end,this.start];this.start=d,this.end=e}return a.slice(b,c+1)}isContextOnly(){return this.isParsed||this.parse(),this._isContextOnly}isAcrossHunks(){return this.isParsed||this.parse(),this._isAcrossHunks}includesExpandedLine(){return this.isParsed||this.parse(),this._includesExpandedLine}commentOutsideTheDiffEnabled(){return this.isParsed||this.parse(),this._commentOutsideTheDiff}rows(){return this.isParsed||this.parse(),this._rows}expandRelatedElements(a){let b=this.isSplit,c=a[0],d=a[a.length-1];if(c&&d){let e=c.closest("[data-hunk]"),f=d.closest("[data-hunk]");if(e&&f){let g=e.getAttribute("data-hunk"),h=f.getAttribute("data-hunk");g!==h&&(this._isAcrossHunks=!0)}}return a.reduce((a,c)=>{!this._includesExpandedLine&&c.closest(".blob-expanded")&&(this._includesExpandedLine=!0);let d=c.parentElement;d instanceof HTMLElement&&this._rows.add(d);let e=c.classList.contains("blob-num-deletion")||c.classList.contains("blob-num-addition");if(e&&(this._isContextOnly=!1),!d)return a;if(b&&e){let f=Array.from(d.children).indexOf(c);return f<2?a.add(d.children[0]).add(d.children[1]):a.add(d.children[2]).add(d.children[3])}for(let g of Array.from(d.children))a.add(g);return a},new Set)}constructor(a,b,c,e,f){this.elements=new Set,this.isParsed=!1,this.isSplit=!1,this._rows=new Set,this._isAcrossHunks=!1,this._isContextOnly=!0,this._includesExpandedLine=!1,this._commentOutsideTheDiff=!1,this.diffId=a,this.diffTable=document.querySelector(`.js-diff-table[data-diff-anchor="${a}"]`),this.diffTable&&(this.isSplit=this.diffTable.classList.contains("js-file-diff-split")),this.start=new d(a,b,c),this.end=new d(a,e,f),this.lineCount=0,this.parse()}}var e=c(81574),f=c(37574),g=c(64463),h=c(59753),i=c(29764);let j=null,k=null,l=!1,m=null;function n(){return j}function o(a){return!!a.closest(".js-multi-line-comments-enabled")}function p(a,b){if(!o(a))return!1;let{start:{lineNumber:c},end:{lineNumber:d}}=b;return!(c===d&&b.isContextOnly()|| !b.commentOutsideTheDiffEnabled()&&(b.isAcrossHunks()||b.includesExpandedLine()))}function q(a){return a.closest(".js-diff-table").classList.contains("is-selecting")}function r(){window.history.replaceState(null,"","#"),y()}function s(a,b){let c=a.id;if(b){let d=(0,f.s)(c);if(!d)return;let e=d[1],g=d[2],h=d[3];if(j&&j.diffId===e){if(g===j.start.side&&h<j.start.lineNumber)return;let i=new DiffRange(e,j.start.side,j.start.lineNumber,g,+h);c=i.anchor();let m=a.closest(".js-file-content[data-hydro-view]");if(m instanceof HTMLElement&&z(m,i),l&&q(a)){let n=a.closest(".js-diff-table");n.classList.toggle("is-commenting",p(a,i))}k=function(){if(p(a,i)){let b=i.end.sideForCommenting(),c=`.js-add-line-comment[data-side="${b}"]`,d=a.closest("tr").querySelector(c);d&&i&&d.click()}}}}window.history.replaceState(null,"",`#${c}`),y()}function t(a){if(!(a instanceof HTMLElement))return null;if(a.classList.contains("js-linkable-line-number"))return a;let b=a.previousElementSibling;return b?t(b):null}function u(a){!(!j||a.target.closest(".js-diff-table"))&&(window.history.replaceState(null,"","#"),y())}function v(a){let b=a.target;if(!(b instanceof Element))return;m&&function(){if(!m)return;s(m,!1);let a=m.closest(".js-diff-table");m=null,a.classList.add("is-selecting"),a.classList.add("is-commenting"),document.addEventListener("mouseup",function(b){a.classList.remove("is-selecting"),a.classList.remove("is-selecting","is-commenting"),k&&k(),k=null,x(a),b.preventDefault()},{once:!0})}();let c=b.closest(".blob-code, .js-linkable-line-number");if(c){var d;if(c.classList.contains("blob-code"))return function(a){let b=t(a);b&&q(b)&&s(b,!0)}(c);c.classList.contains("js-linkable-line-number")&&(d=c,!q(d)||s(d,!0))}}function w(a){a.addEventListener("mouseenter",v,{capture:!0})}function x(a){l=!1,a.removeEventListener("mouseenter",v,{capture:!0}),setTimeout(()=>{document.addEventListener("click",u,{once:!0})},0)}function y(){if(j){for(let a of j.elements)a.classList.remove("selected-line","selected-line-top","selected-line-bottom","selected-line-left","selected-line-right");j=null}let b=(0,f.s)(window.location.hash);if(!b)return;let c=b[1],d=b[2],e=b[3],g=b[4]||d,h=b[5]||e;j=new DiffRange(c,d,+e,g,+h);let i=Array.from(j.elements),k=i[0];k&&(k.closest(".js-diff-table").classList.contains("file-diff-split")?function(){if(!j)return;for(let a of j.elements)a.classList.add("selected-line");let b=[],c=[],d=[],e=[];for(let f of j.rows()){let[g,h,i,k]=f.children;b.push(g),c.push(h),d.push(i),e.push(k)}function l(a){for(let[b,c]of a.entries()){if(c.classList.contains("empty-cell"))continue;let d=a[b-1];d&&d.classList.contains("selected-line")||c.classList.add("selected-line-top");let e=a[b+1];e&&e.classList.contains("selected-line")||c.classList.add("selected-line-bottom")}}for(let[m,n]of(l(b),l(c),l(d),l(e),c.entries()))e[m].classList.contains("selected-line")||n.classList.add("selected-line-right");for(let[o,p]of d.entries())c[o].classList.contains("selected-line")||p.classList.add("selected-line-left")}():function(){if(!j)return;for(let a of j.elements)a.classList.add("selected-line");let b=Array.from(j.rows()),c=b[0];for(let d of c.children)d.classList.add("selected-line-top");let e=b[b.length-1];for(let f of e.children)f.classList.add("selected-line-bottom")}())}function z(a,b){let c={starting_diff_position:b.start.side+b.start.lineNumber,ending_diff_position:b.end.side+b.end.lineNumber,line_count:b.lineCount};a.setAttribute("data-hydro-client-context",JSON.stringify(c)),(0,i.Fk)(a)}(0,h.on)("mousedown",".js-add-line-comment",function(a){if(!(a instanceof MouseEvent)||0!==a.button)return;let b=a.target.parentElement;if(!b||!o(a.target))return;let c=t(b);if(!c)return;let d=a.target.closest(".js-diff-table");w(d),m=c,l=!0,a.target.addEventListener("mouseup",function(){x(d),m=null,l=!1},{once:!0}),j&&j.lineCount>1&&a.preventDefault()}),(0,h.on)("mousedown",".js-linkable-line-number",function(a){if(!(a instanceof MouseEvent)||0!==a.button)return;let b=a.target;if(!(b instanceof Element))return;let c=b.closest(".js-diff-table");c.classList.add("is-selecting"),w(c),document.addEventListener("mouseup",function(){b.closest(".js-diff-table").classList.remove("is-selecting"),x(c)},{once:!0}),s(b,a instanceof MouseEvent&&a.shiftKey),a.preventDefault()}),(0,e.Z)(y),(0,g.N7)(".blob-expanded",y),(0,g.N7)(".js-diff-progressive-loader",function(a){a.addEventListener("load",y)}),(0,g.N7)(".js-diff-entry-loader",function(a){a.addEventListener("load",y)})},99874(a,b,c){var d=c(59753);(0,d.on)("click",".js-rich-diff.collapsed .js-expandable",function(a){if(!(a.target instanceof Element))return;a.preventDefault();let b=a.target.closest(".js-rich-diff");b.classList.remove("collapsed")}),(0,d.on)("click",".js-show-rich-diff",function(a){let b=a.currentTarget.closest(".js-warn-no-visible-changes");if(!b)return;b.classList.add("d-none");let c=b.parentElement,d=c.querySelector(".js-no-rich-changes");d&&d.classList.remove("d-none")})},78459(a,b,c){c.d(b,{Y:()=>n,q:()=>o});var d=c(88149),e=c(86058),f=c(86702);let{getItem:g}=(0,f.Z)("localStorage"),h="dimension_",i,j=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let k=(0,d.n)("octolytics");delete k.baseContext,i=new e.R(k)}catch(l){}function m(a){let b=(0,d.n)("octolytics").baseContext||{};if(b)for(let c in delete b.app_id,delete b.event_url,delete b.host,b)c.startsWith(h)&&(b[c.replace(h,"")]=b[c],delete b[c]);let e=document.querySelector("meta[name=visitor-payload]");if(e){let f=JSON.parse(atob(e.content));Object.assign(b,f)}let g=new URLSearchParams(window.location.search);for(let[i,k]of g)j.includes(i.toLowerCase())&&(b[i]=k);return Object.assign(b,a)}function n(a){i?.sendPageView(m(a))}function o(a,b={}){let c=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,d=c?{service:c}:{};for(let[e,f]of Object.entries(b))null!=f&&(d[e]=`${f}`);i&&(p(a||"unknown",m(d)),i.sendEvent(a||"unknown",m(d)))}function p(a,b){}},29764(a,b,c){c.d(b,{"$S":()=>e,Fk:()=>f,sz:()=>g});var d=c(34855);function e(a,b,c){let e={hydroEventPayload:a,hydroEventHmac:b,visitorPayload:"",visitorHmac:"",hydroClientContext:c},f=document.querySelector("meta[name=visitor-payload]");f instanceof HTMLMetaElement&&(e.visitorPayload=f.content);let g=document.querySelector("meta[name=visitor-hmac]")||"";g instanceof HTMLMetaElement&&(e.visitorHmac=g.content),(0,d.b)(e,!0)}function f(a){let b=a.getAttribute("data-hydro-view")||"",c=a.getAttribute("data-hydro-view-hmac")||"",d=a.getAttribute("data-hydro-client-context")||"";e(b,c,d)}function g(a){let b=a.getAttribute("data-hydro-click-payload")||"",c=a.getAttribute("data-hydro-click-hmac")||"",d=a.getAttribute("data-hydro-client-context")||"";e(b,c,d)}},254(a,b,c){c.d(b,{ZG:()=>h,q6:()=>j,w4:()=>i});var d=c(8439);let e=!1,f=new d.Z;function g(a){let b=a.target;if(b instanceof HTMLElement&&b.nodeType!==Node.DOCUMENT_NODE)for(let c of f.matches(b))c.data.call(null,b)}function h(a,b){e||(e=!0,document.addEventListener("focus",g,!0)),f.add(a,b),document.activeElement instanceof HTMLElement&&document.activeElement.matches(a)&&b(document.activeElement)}function i(a,b,c){function d(b){let e=b.currentTarget;e&&(e.removeEventListener(a,c),e.removeEventListener("blur",d))}h(b,function(b){b.addEventListener(a,c),b.addEventListener("blur",d)})}function j(a,b){function c(a){let{currentTarget:d}=a;d&&(d.removeEventListener("input",b),d.removeEventListener("blur",c))}h(a,function(a){a.addEventListener("input",b),a.addEventListener("blur",c)})}},11445(a,b,c){c.d(b,{v:()=>d});function d(a,b){b.appendChild(a.extractContents()),a.insertNode(b)}},25811(a,b,c){c.d(b,{LS:()=>f,cl:()=>g,rV:()=>e});var d=c(86702);let{getItem:e,setItem:f,removeItem:g}=(0,d.Z)("sessionStorage")},55065(a,b,c){c.d(b,{"$g":()=>SoftNavSuccessEvent,OV:()=>SoftNavStartEvent,QW:()=>SoftNavErrorEvent,Xr:()=>SoftNavEndEvent});var d=c(31167);let e=class SoftNavEvent extends Event{constructor(a,b){super(b),this.mechanism=a}};class SoftNavStartEvent extends e{constructor(a){super(a,d.QE.START)}}class SoftNavSuccessEvent extends e{constructor(a,b){super(a,d.QE.SUCCESS),this.visitCount=b}}class SoftNavErrorEvent extends e{constructor(a,b){super(a,d.QE.ERROR),this.error=b}}class SoftNavEndEvent extends e{constructor(a){super(a,d.QE.END)}}},31167(a,b,c){c.d(b,{BT:()=>l,FP:()=>n,LD:()=>k,QE:()=>g,TL:()=>o,Yl:()=>j,jN:()=>h,r_:()=>m,u5:()=>p});var d=c(55065),e=c(29573),f=c(58843);let g=Object.freeze({INITIAL:"soft-nav:initial",START:"soft-nav:start",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",FRAME_UPDATE:"soft-nav:frame-update",END:"soft-nav:end",RENDER:"soft-nav:render",PROGRESS_BAR:{START:"soft-nav:progress-bar:start",END:"soft-nav:progress-bar:end"}}),h="reload",i=0;function j(){i=0,document.dispatchEvent(new Event(g.INITIAL)),(0,f.XL)()}function k(a){(0,f.sj)()||(q(),document.dispatchEvent(new d.OV(a)),(0,f.U6)(a),(0,f.J$)(),(0,f.Nt)(),(0,e.hY)())}function l(a={}){s(a)&&(i+=1,document.dispatchEvent(new d.$g((0,f.Gj)(),i)),n(a))}function m(a={}){if(!s(a))return;i=0;let b=(0,f.Wl)()||h;document.dispatchEvent(new d.QW((0,f.Gj)(),b)),r(),(0,e.t3)(b),(0,f.XL)()}function n(a={}){s(a)&&(r(),document.dispatchEvent(new d.Xr((0,f.Gj)())),(0,f.pS)())}function o(a={}){s(a)&&((0,e.mr)(),document.dispatchEvent(new Event(g.RENDER)))}function p(){document.dispatchEvent(new Event(g.FRAME_UPDATE))}function q(){document.dispatchEvent(new Event(g.PROGRESS_BAR.START))}function r(){document.dispatchEvent(new Event(g.PROGRESS_BAR.END))}function s({skipIfGoingToReactApp:a,allowedMechanisms:b=[]}={}){return(0,f.sj)()&&(0===b.length||b.includes((0,f.Gj)()))&&(!a||!(0,f.Nb)())}},29573(a,b,c){c.d(b,{CF:()=>g,hY:()=>h,mr:()=>j,t3:()=>i});var d=c(34855),e=c(58843);let f="stats:soft-nav-duration",g={turbo:"TURBO",react:"REACT","turbo.frame":"FRAME",ui:"UI",hard:"HARD"};function h(){performance.mark(f)}function i(a){(0,d.b)({turboFailureReason:a,turboStartUrl:(0,e.wP)(),turboEndUrl:window.location.href})}function j(){let a=function(){if(0===performance.getEntriesByName(f).length)return null;performance.measure(f,f);let a=performance.getEntriesByName(f),b=a.pop();return b?b.duration:null}();if(!a)return;let b=g[(0,e.Gj)()],c=Math.round(a);b===g.react&&document.dispatchEvent(new CustomEvent("staffbar-update",{detail:{duration:c}})),(0,d.b)({requestUrl:window.location.href,softNavigationTiming:{mechanism:b,destination:(0,e.Nb)()||"rails",duration:c,initiator:(0,e.CI)()||"rails"}})}},58843(a,b,c){c.d(b,{Ak:()=>r,CI:()=>v,Gj:()=>o,"J$":()=>u,Nb:()=>w,Nt:()=>s,OE:()=>p,U6:()=>l,Wl:()=>q,XL:()=>k,pS:()=>m,sj:()=>n,wP:()=>t});var d=c(25811),e=c(31167);let f="soft-nav:fail",g="soft-nav:fail-referrer",h="soft-nav:referrer",i="soft-nav:marker",j="soft-nav:react-app-name";function k(){(0,d.LS)(i,"0"),(0,d.cl)(h),(0,d.cl)(f),(0,d.cl)(g),(0,d.cl)(j)}function l(a){(0,d.LS)(i,a)}function m(){(0,d.LS)(i,"0")}function n(){let a=(0,d.rV)(i);return a&&"0"!==a}function o(){return(0,d.rV)(i)}function p(){return Boolean(q())}function q(){return(0,d.rV)(f)}function r(a){(0,d.LS)(f,a||e.jN),(0,d.LS)(g,window.location.href)}function s(){(0,d.LS)(h,window.location.href)}function t(){return(0,d.rV)(h)||document.referrer}function u(){let a=w();a?(0,d.LS)(j,a):(0,d.cl)(j)}function v(){return(0,d.rV)(j)}function w(){return document.querySelector('meta[name="ui"]')?"ui":document.querySelector("react-app")?.getAttribute("app-name")}},76932(a,b,c){c.d(b,{RB:()=>d,qC:()=>e,w0:()=>Subscription});class Subscription{constructor(a){this.closed=!1,this.unsubscribe=()=>{a(),this.closed=!0}}}function d(a,b,c,d={capture:!1}){return a.addEventListener(b,c,d),new Subscription(()=>{a.removeEventListener(b,c,d)})}function e(...a){return new Subscription(()=>{for(let b of a)b.unsubscribe()})}},97629(a,b,c){c.d(b,{Z:()=>d});function d(a){var b;return!((b=a).offsetWidth<=0)||!(b.offsetHeight<=0)}}}])
//# sourceMappingURL=app_assets_modules_github_diffs_blob-lines_ts-app_assets_modules_github_diffs_linkable-line-n-dca161-8ba603ec0ea8.js.map